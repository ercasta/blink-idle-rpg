{
  "version": "1.0",
  "module": "unnamed",
  "metadata": {
    "compiled_at": "2026-01-20T11:43:20Z",
    "compiler_version": "0.1.0"
  },
  "components": [
    {
      "id": 0,
      "name": "Character",
      "fields": [
        {
          "name": "name",
          "type": {
            "type": "string"
          }
        },
        {
          "name": "class",
          "type": {
            "type": "string"
          }
        },
        {
          "name": "level",
          "type": {
            "type": "number"
          }
        },
        {
          "name": "experience",
          "type": {
            "type": "number"
          }
        },
        {
          "name": "experienceToLevel",
          "type": {
            "type": "number"
          }
        }
      ]
    },
    {
      "id": 1,
      "name": "Health",
      "fields": [
        {
          "name": "current",
          "type": {
            "type": "number"
          }
        },
        {
          "name": "max",
          "type": {
            "type": "number"
          }
        }
      ]
    },
    {
      "id": 2,
      "name": "Mana",
      "fields": [
        {
          "name": "current",
          "type": {
            "type": "number"
          }
        },
        {
          "name": "max",
          "type": {
            "type": "number"
          }
        }
      ]
    },
    {
      "id": 3,
      "name": "Stats",
      "fields": [
        {
          "name": "strength",
          "type": {
            "type": "number"
          }
        },
        {
          "name": "dexterity",
          "type": {
            "type": "number"
          }
        },
        {
          "name": "intelligence",
          "type": {
            "type": "number"
          }
        },
        {
          "name": "constitution",
          "type": {
            "type": "number"
          }
        },
        {
          "name": "wisdom",
          "type": {
            "type": "number"
          }
        }
      ]
    },
    {
      "id": 4,
      "name": "Combat",
      "fields": [
        {
          "name": "damage",
          "type": {
            "type": "number"
          }
        },
        {
          "name": "defense",
          "type": {
            "type": "number"
          }
        },
        {
          "name": "attackSpeed",
          "type": {
            "type": "number"
          }
        },
        {
          "name": "critChance",
          "type": {
            "type": "number"
          }
        },
        {
          "name": "critMultiplier",
          "type": {
            "type": "number"
          }
        }
      ]
    },
    {
      "id": 5,
      "name": "Target",
      "fields": [
        {
          "name": "entity",
          "type": {
            "type": "entity"
          }
        }
      ]
    },
    {
      "id": 6,
      "name": "Team",
      "fields": [
        {
          "name": "id",
          "type": {
            "type": "string"
          }
        },
        {
          "name": "isPlayer",
          "type": {
            "type": "boolean"
          }
        }
      ]
    },
    {
      "id": 7,
      "name": "Enemy",
      "fields": [
        {
          "name": "tier",
          "type": {
            "type": "number"
          }
        },
        {
          "name": "isBoss",
          "type": {
            "type": "boolean"
          }
        },
        {
          "name": "expReward",
          "type": {
            "type": "number"
          }
        },
        {
          "name": "wave",
          "type": {
            "type": "number"
          }
        },
        {
          "name": "name",
          "type": {
            "type": "string"
          }
        }
      ]
    },
    {
      "id": 8,
      "name": "EnemyTemplate",
      "fields": [
        {
          "name": "isTemplate",
          "type": {
            "type": "boolean"
          }
        }
      ]
    },
    {
      "id": 9,
      "name": "FinalBoss",
      "fields": [
        {
          "name": "isFinalBoss",
          "type": {
            "type": "boolean"
          }
        }
      ]
    },
    {
      "id": 10,
      "name": "EnemyCompendium",
      "fields": [
        {
          "name": "entries",
          "type": {
            "type": "list",
            "element": {
              "type": "entity"
            }
          }
        }
      ]
    },
    {
      "id": 11,
      "name": "Skills",
      "fields": [
        {
          "name": "skill1",
          "type": {
            "type": "string"
          }
        },
        {
          "name": "skill2",
          "type": {
            "type": "string"
          }
        },
        {
          "name": "skill3",
          "type": {
            "type": "string"
          }
        },
        {
          "name": "skill4",
          "type": {
            "type": "string"
          }
        },
        {
          "name": "skillPoints",
          "type": {
            "type": "number"
          }
        }
      ]
    },
    {
      "id": 12,
      "name": "Buffs",
      "fields": [
        {
          "name": "damageBonus",
          "type": {
            "type": "number"
          }
        },
        {
          "name": "defenseBonus",
          "type": {
            "type": "number"
          }
        },
        {
          "name": "hasteBonus",
          "type": {
            "type": "number"
          }
        },
        {
          "name": "shieldAmount",
          "type": {
            "type": "number"
          }
        },
        {
          "name": "regenAmount",
          "type": {
            "type": "number"
          }
        }
      ]
    },
    {
      "id": 13,
      "name": "GameState",
      "fields": [
        {
          "name": "currentWave",
          "type": {
            "type": "number"
          }
        },
        {
          "name": "enemiesDefeated",
          "type": {
            "type": "number"
          }
        },
        {
          "name": "playerDeaths",
          "type": {
            "type": "number"
          }
        },
        {
          "name": "bossDefeated",
          "type": {
            "type": "boolean"
          }
        },
        {
          "name": "gameOver",
          "type": {
            "type": "boolean"
          }
        },
        {
          "name": "victory",
          "type": {
            "type": "boolean"
          }
        },
        {
          "name": "retargetingActive",
          "type": {
            "type": "boolean"
          }
        },
        {
          "name": "currentTier",
          "type": {
            "type": "number"
          }
        },
        {
          "name": "waveInTier",
          "type": {
            "type": "number"
          }
        },
        {
          "name": "bossSpawned",
          "type": {
            "type": "boolean"
          }
        }
      ]
    },
    {
      "id": 14,
      "name": "RunStats",
      "fields": [
        {
          "name": "simulationTime",
          "type": {
            "type": "number"
          }
        },
        {
          "name": "retreatCount",
          "type": {
            "type": "number"
          }
        },
        {
          "name": "retreatPenalty",
          "type": {
            "type": "number"
          }
        },
        {
          "name": "deathPenalty",
          "type": {
            "type": "number"
          }
        },
        {
          "name": "totalTime",
          "type": {
            "type": "number"
          }
        },
        {
          "name": "canFlee",
          "type": {
            "type": "boolean"
          }
        },
        {
          "name": "lastFleeTime",
          "type": {
            "type": "number"
          }
        }
      ]
    },
    {
      "id": 15,
      "name": "FleeConfig",
      "fields": [
        {
          "name": "retreatTimePenalty",
          "type": {
            "type": "number"
          }
        },
        {
          "name": "deathTimePenaltyMultiplier",
          "type": {
            "type": "number"
          }
        },
        {
          "name": "fleeCooldown",
          "type": {
            "type": "number"
          }
        }
      ]
    },
    {
      "id": 16,
      "name": "SkillCooldown",
      "fields": [
        {
          "name": "skill1Cooldown",
          "type": {
            "type": "number"
          }
        },
        {
          "name": "skill2Cooldown",
          "type": {
            "type": "number"
          }
        },
        {
          "name": "skill3Cooldown",
          "type": {
            "type": "number"
          }
        },
        {
          "name": "skill4Cooldown",
          "type": {
            "type": "number"
          }
        }
      ]
    },
    {
      "id": 17,
      "name": "ChoiceContext",
      "fields": [
        {
          "name": "pendingChoice",
          "type": {
            "type": "string"
          }
        },
        {
          "name": "options",
          "type": {
            "type": "string"
          }
        },
        {
          "name": "chosen",
          "type": {
            "type": "string"
          }
        }
      ]
    },
    {
      "id": 18,
      "name": "HeroInfo",
      "fields": [
        {
          "name": "id",
          "type": {
            "type": "string"
          }
        },
        {
          "name": "description",
          "type": {
            "type": "string"
          }
        },
        {
          "name": "difficulty",
          "type": {
            "type": "string"
          }
        },
        {
          "name": "role",
          "type": {
            "type": "string"
          }
        },
        {
          "name": "playstyle",
          "type": {
            "type": "string"
          }
        }
      ]
    },
    {
      "id": 19,
      "name": "HeroTemplate",
      "fields": [
        {
          "name": "isTemplate",
          "type": {
            "type": "boolean"
          }
        }
      ]
    },
    {
      "id": 20,
      "name": "SpawnConfig",
      "fields": [
        {
          "name": "bossEveryKills",
          "type": {
            "type": "number"
          }
        },
        {
          "name": "tierProgressionKills",
          "type": {
            "type": "number"
          }
        },
        {
          "name": "maxTier",
          "type": {
            "type": "number"
          }
        },
        {
          "name": "wavesPerTier",
          "type": {
            "type": "number"
          }
        },
        {
          "name": "healthScaleRate",
          "type": {
            "type": "number"
          }
        },
        {
          "name": "damageScaleRate",
          "type": {
            "type": "number"
          }
        },
        {
          "name": "initialEnemyCount",
          "type": {
            "type": "number"
          }
        }
      ]
    },
    {
      "id": 21,
      "name": "ScenarioInfo",
      "fields": [
        {
          "name": "id",
          "type": {
            "type": "string"
          }
        },
        {
          "name": "name",
          "type": {
            "type": "string"
          }
        },
        {
          "name": "description",
          "type": {
            "type": "string"
          }
        },
        {
          "name": "difficulty",
          "type": {
            "type": "string"
          }
        },
        {
          "name": "respawnTime",
          "type": {
            "type": "string"
          }
        },
        {
          "name": "deathPenalty",
          "type": {
            "type": "string"
          }
        },
        {
          "name": "enemiesPerWave",
          "type": {
            "type": "string"
          }
        },
        {
          "name": "bossFrequency",
          "type": {
            "type": "string"
          }
        }
      ]
    }
  ],
  "rules": [
    {
      "id": 0,
      "name": "initialize_hero_attacks",
      "trigger": {
        "type": "event",
        "event": "GameStart"
      },
      "actions": [
        {
          "type": "conditional",
          "condition": {
            "type": "binary",
            "op": "and",
            "left": {
              "type": "field",
              "entity": "entity",
              "component": "Team",
              "field": "isPlayer"
            },
            "right": {
              "type": "binary",
              "op": "gt",
              "left": {
                "type": "field",
                "entity": "entity",
                "component": "Health",
                "field": "current"
              },
              "right": {
                "type": "literal",
                "value": 0.0
              }
            }
          },
          "then_actions": [
            {
              "type": "let",
              "name": "stagger",
              "value": {
                "type": "binary",
                "op": "multiply",
                "left": {
                  "type": "literal",
                  "value": 0.1
                },
                "right": {
                  "type": "var",
                  "name": "id"
                }
              }
            },
            {
              "type": "schedule",
              "event": "DoAttack",
              "delay": {
                "type": "var",
                "name": "stagger"
              },
              "fields": {
                "source": {
                  "type": "var",
                  "name": "id"
                }
              }
            }
          ]
        }
      ]
    },
    {
      "id": 1,
      "name": "start_retargeting_system",
      "trigger": {
        "type": "event",
        "event": "GameStart"
      },
      "actions": [
        {
          "type": "conditional",
          "condition": {
            "type": "var",
            "name": "GameState"
          },
          "then_actions": [
            {
              "type": "conditional",
              "condition": {
                "type": "binary",
                "op": "eq",
                "left": {
                  "type": "field",
                  "entity": "entity",
                  "component": "GameState",
                  "field": "retargetingActive"
                },
                "right": {
                  "type": "literal",
                  "value": false
                }
              },
              "then_actions": [
                {
                  "type": "modify",
                  "entity": {
                    "type": "var",
                    "name": "entity"
                  },
                  "component": "GameState",
                  "field": "retargetingActive",
                  "op": "set",
                  "value": {
                    "type": "literal",
                    "value": true
                  }
                },
                {
                  "type": "schedule",
                  "event": "CheckAllTargets",
                  "delay": {
                    "type": "literal",
                    "value": 2.0
                  }
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "id": 2,
      "name": "spawn_initial_enemies",
      "trigger": {
        "type": "event",
        "event": "GameStart"
      },
      "actions": [
        {
          "type": "conditional",
          "condition": {
            "type": "var",
            "name": "SpawnConfig"
          },
          "then_actions": [
            {
              "type": "let",
              "name": "count",
              "value": {
                "type": "field",
                "entity": "entity",
                "component": "SpawnConfig",
                "field": "initialEnemyCount"
              }
            },
            {
              "type": "modify",
              "entity": {
                "type": "var",
                "name": "entity"
              },
              "component": "GameState",
              "field": "currentTier",
              "op": "set",
              "value": {
                "type": "literal",
                "value": 1.0
              }
            },
            {
              "type": "modify",
              "entity": {
                "type": "var",
                "name": "entity"
              },
              "component": "GameState",
              "field": "waveInTier",
              "op": "set",
              "value": {
                "type": "literal",
                "value": 1.0
              }
            },
            {
              "type": "modify",
              "entity": {
                "type": "var",
                "name": "entity"
              },
              "component": "GameState",
              "field": "currentWave",
              "op": "set",
              "value": {
                "type": "literal",
                "value": 1.0
              }
            },
            {
              "type": "modify",
              "entity": {
                "type": "var",
                "name": "entity"
              },
              "component": "GameState",
              "field": "bossSpawned",
              "op": "set",
              "value": {
                "type": "literal",
                "value": false
              }
            },
            {
              "type": "let",
              "name": "indices",
              "value": {
                "type": "call",
                "function": "list",
                "args": [
                  {
                    "type": "literal",
                    "value": 0.0
                  },
                  {
                    "type": "literal",
                    "value": 1.0
                  },
                  {
                    "type": "literal",
                    "value": 2.0
                  },
                  {
                    "type": "literal",
                    "value": 3.0
                  },
                  {
                    "type": "literal",
                    "value": 4.0
                  }
                ]
              }
            },
            {
              "type": "loop",
              "variable": "i",
              "iterable": {
                "type": "var",
                "name": "indices"
              },
              "body": [
                {
                  "type": "schedule",
                  "event": "SpawnEnemy",
                  "delay": {
                    "type": "binary",
                    "op": "multiply",
                    "left": {
                      "type": "literal",
                      "value": 0.05
                    },
                    "right": {
                      "type": "binary",
                      "op": "add",
                      "left": {
                        "type": "var",
                        "name": "i"
                      },
                      "right": {
                        "type": "literal",
                        "value": 1.0
                      }
                    }
                  },
                  "fields": {
                    "tier": {
                      "type": "literal",
                      "value": 1.0
                    }
                  }
                }
              ]
            },
            {
              "type": "schedule",
              "event": "EnemySpawned",
              "delay": {
                "type": "literal",
                "value": 0.3
              },
              "fields": {
                "wave": {
                  "type": "literal",
                  "value": 1.0
                }
              }
            }
          ]
        }
      ]
    },
    {
      "id": 3,
      "name": "handle_enemy_spawned",
      "trigger": {
        "type": "event",
        "event": "EnemySpawned"
      },
      "actions": [
        {
          "type": "conditional",
          "condition": {
            "type": "binary",
            "op": "and",
            "left": {
              "type": "var",
              "name": "GameState"
            },
            "right": {
              "type": "var",
              "name": "SpawnConfig"
            }
          },
          "then_actions": [
            {
              "type": "let",
              "name": "tier",
              "value": {
                "type": "field",
                "entity": "entity",
                "component": "GameState",
                "field": "currentTier"
              }
            },
            {
              "type": "let",
              "name": "waveIndex",
              "value": {
                "type": "field",
                "entity": "entity",
                "component": "GameState",
                "field": "waveInTier"
              }
            },
            {
              "type": "let",
              "name": "count",
              "value": {
                "type": "field",
                "entity": "entity",
                "component": "SpawnConfig",
                "field": "initialEnemyCount"
              }
            },
            {
              "type": "let",
              "name": "indices",
              "value": {
                "type": "call",
                "function": "list",
                "args": [
                  {
                    "type": "literal",
                    "value": 0.0
                  },
                  {
                    "type": "literal",
                    "value": 1.0
                  },
                  {
                    "type": "literal",
                    "value": 2.0
                  },
                  {
                    "type": "literal",
                    "value": 3.0
                  },
                  {
                    "type": "literal",
                    "value": 4.0
                  }
                ]
              }
            },
            {
              "type": "loop",
              "variable": "i",
              "iterable": {
                "type": "var",
                "name": "indices"
              },
              "body": [
                {
                  "type": "schedule",
                  "event": "SpawnEnemy",
                  "delay": {
                    "type": "binary",
                    "op": "multiply",
                    "left": {
                      "type": "literal",
                      "value": 0.05
                    },
                    "right": {
                      "type": "binary",
                      "op": "add",
                      "left": {
                        "type": "var",
                        "name": "i"
                      },
                      "right": {
                        "type": "literal",
                        "value": 1.0
                      }
                    }
                  },
                  "fields": {
                    "tier": {
                      "type": "var",
                      "name": "tier"
                    }
                  }
                }
              ]
            },
            {
              "type": "conditional",
              "condition": {
                "type": "binary",
                "op": "eq",
                "left": {
                  "type": "var",
                  "name": "tier"
                },
                "right": {
                  "type": "field",
                  "entity": "entity",
                  "component": "SpawnConfig",
                  "field": "maxTier"
                }
              },
              "then_actions": [
                {
                  "type": "conditional",
                  "condition": {
                    "type": "binary",
                    "op": "eq",
                    "left": {
                      "type": "field",
                      "entity": "entity",
                      "component": "GameState",
                      "field": "bossSpawned"
                    },
                    "right": {
                      "type": "literal",
                      "value": false
                    }
                  },
                  "then_actions": [
                    {
                      "type": "schedule",
                      "event": "SpawnLordVexar",
                      "delay": {
                        "type": "literal",
                        "value": 1.0
                      }
                    },
                    {
                      "type": "modify",
                      "entity": {
                        "type": "var",
                        "name": "entity"
                      },
                      "component": "GameState",
                      "field": "bossSpawned",
                      "op": "set",
                      "value": {
                        "type": "literal",
                        "value": true
                      }
                    }
                  ]
                }
              ]
            },
            {
              "type": "let",
              "name": "nextWaveIndex",
              "value": {
                "type": "binary",
                "op": "add",
                "left": {
                  "type": "var",
                  "name": "waveIndex"
                },
                "right": {
                  "type": "literal",
                  "value": 1.0
                }
              }
            },
            {
              "type": "conditional",
              "condition": {
                "type": "binary",
                "op": "gt",
                "left": {
                  "type": "var",
                  "name": "nextWaveIndex"
                },
                "right": {
                  "type": "field",
                  "entity": "entity",
                  "component": "SpawnConfig",
                  "field": "wavesPerTier"
                }
              },
              "then_actions": [
                {
                  "type": "modify",
                  "entity": {
                    "type": "var",
                    "name": "entity"
                  },
                  "component": "GameState",
                  "field": "currentTier",
                  "op": "set",
                  "value": {
                    "type": "binary",
                    "op": "add",
                    "left": {
                      "type": "var",
                      "name": "tier"
                    },
                    "right": {
                      "type": "literal",
                      "value": 1.0
                    }
                  }
                },
                {
                  "type": "modify",
                  "entity": {
                    "type": "var",
                    "name": "entity"
                  },
                  "component": "GameState",
                  "field": "waveInTier",
                  "op": "set",
                  "value": {
                    "type": "literal",
                    "value": 1.0
                  }
                }
              ],
              "else_actions": [
                {
                  "type": "modify",
                  "entity": {
                    "type": "var",
                    "name": "entity"
                  },
                  "component": "GameState",
                  "field": "waveInTier",
                  "op": "set",
                  "value": {
                    "type": "var",
                    "name": "nextWaveIndex"
                  }
                }
              ]
            },
            {
              "type": "modify",
              "entity": {
                "type": "var",
                "name": "entity"
              },
              "component": "GameState",
              "field": "currentWave",
              "op": "add",
              "value": {
                "type": "literal",
                "value": 1.0
              }
            },
            {
              "type": "schedule",
              "event": "EnemySpawned",
              "delay": {
                "type": "literal",
                "value": 2.0
              },
              "fields": {
                "wave": {
                  "type": "field",
                  "entity": "entity",
                  "component": "GameState",
                  "field": "currentWave"
                }
              }
            }
          ]
        }
      ]
    },
    {
      "id": 4,
      "name": "spawn_enemy_from_template",
      "trigger": {
        "type": "event",
        "event": "SpawnEnemy"
      },
      "actions": [
        {
          "type": "let",
          "name": "templates",
          "value": {
            "type": "call",
            "function": "entities_having",
            "args": [
              {
                "type": "literal",
                "value": "EnemyTemplate"
              }
            ]
          }
        },
        {
          "type": "let",
          "name": "templateId",
          "value": {
            "type": "call",
            "function": "get",
            "args": [
              {
                "type": "var",
                "name": "templates"
              },
              {
                "type": "literal",
                "value": 0.0
              }
            ]
          }
        },
        {
          "type": "loop",
          "variable": "t",
          "iterable": {
            "type": "var",
            "name": "templates"
          },
          "body": [
            {
              "type": "conditional",
              "condition": {
                "type": "binary",
                "op": "eq",
                "left": {
                  "type": "field",
                  "entity": "t",
                  "component": "Enemy",
                  "field": "tier"
                },
                "right": {
                  "type": "var",
                  "name": "tier"
                }
              },
              "then_actions": []
            }
          ]
        },
        {
          "type": "let",
          "name": "newEnemy",
          "value": {
            "type": "clone",
            "source": {
              "type": "var",
              "name": "templateId"
            },
            "overrides": [
              {
                "name": "EnemyTemplate",
                "fields": {
                  "isTemplate": {
                    "type": "literal",
                    "value": false
                  }
                }
              }
            ]
          }
        },
        {
          "type": "modify",
          "entity": {
            "type": "var",
            "name": "newEnemy"
          },
          "component": "Target",
          "field": "entity",
          "op": "set",
          "value": {
            "type": "literal",
            "value": null
          }
        },
        {
          "type": "schedule",
          "event": "DoAttack",
          "delay": {
            "type": "literal",
            "value": 0.1
          },
          "fields": {
            "source": {
              "type": "var",
              "name": "newEnemy"
            }
          }
        }
      ]
    },
    {
      "id": 5,
      "name": "spawn_lord_vexar",
      "trigger": {
        "type": "event",
        "event": "SpawnLordVexar"
      },
      "actions": [
        {
          "type": "let",
          "name": "templates",
          "value": {
            "type": "call",
            "function": "entities_having",
            "args": [
              {
                "type": "literal",
                "value": "FinalBoss"
              }
            ]
          }
        },
        {
          "type": "let",
          "name": "bossTemplate",
          "value": {
            "type": "call",
            "function": "get",
            "args": [
              {
                "type": "var",
                "name": "templates"
              },
              {
                "type": "literal",
                "value": 0.0
              }
            ]
          }
        },
        {
          "type": "let",
          "name": "newBoss",
          "value": {
            "type": "clone",
            "source": {
              "type": "var",
              "name": "bossTemplate"
            },
            "overrides": [
              {
                "name": "EnemyTemplate",
                "fields": {
                  "isTemplate": {
                    "type": "literal",
                    "value": false
                  }
                }
              }
            ]
          }
        },
        {
          "type": "modify",
          "entity": {
            "type": "var",
            "name": "newBoss"
          },
          "component": "Target",
          "field": "entity",
          "op": "set",
          "value": {
            "type": "literal",
            "value": null
          }
        },
        {
          "type": "schedule",
          "event": "DoAttack",
          "delay": {
            "type": "literal",
            "value": 0.5
          },
          "fields": {
            "source": {
              "type": "var",
              "name": "newBoss"
            }
          }
        }
      ]
    },
    {
      "id": 6,
      "name": "attack_rule",
      "trigger": {
        "type": "event",
        "event": "DoAttack"
      },
      "actions": [
        {
          "type": "conditional",
          "condition": {
            "type": "binary",
            "op": "and",
            "left": {
              "type": "binary",
              "op": "neq",
              "left": {
                "type": "field",
                "entity": "entity",
                "component": "Target",
                "field": "entity"
              },
              "right": {
                "type": "literal",
                "value": null
              }
            },
            "right": {
              "type": "binary",
              "op": "gt",
              "left": {
                "type": "field",
                "entity": "entity",
                "component": "Health",
                "field": "current"
              },
              "right": {
                "type": "literal",
                "value": 0.0
              }
            }
          },
          "then_actions": [
            {
              "type": "let",
              "name": "target",
              "value": {
                "type": "field",
                "entity": "entity",
                "component": "Target",
                "field": "entity"
              }
            },
            {
              "type": "let",
              "name": "damage",
              "value": {
                "type": "binary",
                "op": "add",
                "left": {
                  "type": "field",
                  "entity": "entity",
                  "component": "Combat",
                  "field": "damage"
                },
                "right": {
                  "type": "field",
                  "entity": "entity",
                  "component": "Buffs",
                  "field": "damageBonus"
                }
              }
            },
            {
              "type": "modify",
              "entity": {
                "type": "var",
                "name": "target"
              },
              "component": "Health",
              "field": "current",
              "op": "subtract",
              "value": {
                "type": "var",
                "name": "damage"
              }
            },
            {
              "type": "schedule",
              "event": "AfterAttack",
              "fields": {
                "attacker": {
                  "type": "var",
                  "name": "id"
                },
                "target": {
                  "type": "var",
                  "name": "id"
                }
              }
            },
            {
              "type": "let",
              "name": "delay",
              "value": {
                "type": "binary",
                "op": "divide",
                "left": {
                  "type": "literal",
                  "value": 1.0
                },
                "right": {
                  "type": "binary",
                  "op": "add",
                  "left": {
                    "type": "field",
                    "entity": "entity",
                    "component": "Combat",
                    "field": "attackSpeed"
                  },
                  "right": {
                    "type": "field",
                    "entity": "entity",
                    "component": "Buffs",
                    "field": "hasteBonus"
                  }
                }
              }
            },
            {
              "type": "schedule",
              "event": "DoAttack",
              "delay": {
                "type": "var",
                "name": "delay"
              },
              "fields": {
                "source": {
                  "type": "var",
                  "name": "id"
                }
              }
            }
          ]
        }
      ]
    },
    {
      "id": 7,
      "name": "death_check",
      "trigger": {
        "type": "event",
        "event": "AfterAttack"
      },
      "actions": [
        {
          "type": "conditional",
          "condition": {
            "type": "binary",
            "op": "lte",
            "left": {
              "type": "field",
              "entity": "entity",
              "component": "Health",
              "field": "current"
            },
            "right": {
              "type": "literal",
              "value": 0.0
            }
          },
          "then_actions": [
            {
              "type": "schedule",
              "event": "Death",
              "fields": {
                "target": {
                  "type": "var",
                  "name": "id"
                }
              }
            }
          ]
        }
      ]
    },
    {
      "id": 8,
      "name": "enemy_death_handler",
      "trigger": {
        "type": "event",
        "event": "Death"
      },
      "actions": [
        {
          "type": "conditional",
          "condition": {
            "type": "binary",
            "op": "and",
            "left": {
              "type": "binary",
              "op": "gt",
              "left": {
                "type": "field",
                "entity": "entity",
                "component": "Enemy",
                "field": "tier"
              },
              "right": {
                "type": "literal",
                "value": 0.0
              }
            },
            "right": {
              "type": "binary",
              "op": "lte",
              "left": {
                "type": "field",
                "entity": "entity",
                "component": "Health",
                "field": "current"
              },
              "right": {
                "type": "literal",
                "value": 0.0
              }
            }
          },
          "then_actions": [
            {
              "type": "schedule",
              "event": "EnemyDefeated",
              "fields": {
                "enemy": {
                  "type": "var",
                  "name": "id"
                },
                "expReward": {
                  "type": "field",
                  "entity": "entity",
                  "component": "Enemy",
                  "field": "expReward"
                },
                "isBoss": {
                  "type": "field",
                  "entity": "entity",
                  "component": "Enemy",
                  "field": "isBoss"
                }
              }
            }
          ]
        }
      ]
    },
    {
      "id": 9,
      "name": "player_death_handler",
      "trigger": {
        "type": "event",
        "event": "Death"
      },
      "actions": [
        {
          "type": "conditional",
          "condition": {
            "type": "binary",
            "op": "and",
            "left": {
              "type": "field",
              "entity": "entity",
              "component": "Team",
              "field": "isPlayer"
            },
            "right": {
              "type": "binary",
              "op": "lte",
              "left": {
                "type": "field",
                "entity": "entity",
                "component": "Health",
                "field": "current"
              },
              "right": {
                "type": "literal",
                "value": 0.0
              }
            }
          },
          "then_actions": [
            {
              "type": "schedule",
              "event": "PlayerDefeated",
              "fields": {
                "player": {
                  "type": "var",
                  "name": "id"
                }
              }
            }
          ]
        }
      ]
    },
    {
      "id": 10,
      "name": "respawn_on_player_defeated",
      "trigger": {
        "type": "event",
        "event": "PlayerDefeated"
      },
      "actions": [
        {
          "type": "schedule",
          "event": "RespawnPlayer",
          "delay": {
            "type": "literal",
            "value": 120.0
          },
          "fields": {
            "player": {
              "type": "var",
              "name": "player"
            }
          }
        }
      ]
    },
    {
      "id": 11,
      "name": "respawn_player",
      "trigger": {
        "type": "event",
        "event": "RespawnPlayer"
      },
      "actions": [
        {
          "type": "let",
          "name": "p",
          "value": {
            "type": "var",
            "name": "player"
          }
        },
        {
          "type": "conditional",
          "condition": {
            "type": "var",
            "name": "Health"
          },
          "then_actions": [
            {
              "type": "modify",
              "entity": {
                "type": "var",
                "name": "p"
              },
              "component": "Health",
              "field": "current",
              "op": "set",
              "value": {
                "type": "field",
                "entity": "p",
                "component": "Health",
                "field": "max"
              }
            }
          ]
        },
        {
          "type": "conditional",
          "condition": {
            "type": "var",
            "name": "Mana"
          },
          "then_actions": [
            {
              "type": "modify",
              "entity": {
                "type": "var",
                "name": "p"
              },
              "component": "Mana",
              "field": "current",
              "op": "set",
              "value": {
                "type": "field",
                "entity": "p",
                "component": "Mana",
                "field": "max"
              }
            }
          ]
        },
        {
          "type": "conditional",
          "condition": {
            "type": "var",
            "name": "Buffs"
          },
          "then_actions": [
            {
              "type": "modify",
              "entity": {
                "type": "var",
                "name": "p"
              },
              "component": "Buffs",
              "field": "shieldAmount",
              "op": "set",
              "value": {
                "type": "literal",
                "value": 0.0
              }
            },
            {
              "type": "modify",
              "entity": {
                "type": "var",
                "name": "p"
              },
              "component": "Buffs",
              "field": "regenAmount",
              "op": "set",
              "value": {
                "type": "literal",
                "value": 0.0
              }
            },
            {
              "type": "modify",
              "entity": {
                "type": "var",
                "name": "p"
              },
              "component": "Buffs",
              "field": "damageBonus",
              "op": "set",
              "value": {
                "type": "literal",
                "value": 0.0
              }
            },
            {
              "type": "modify",
              "entity": {
                "type": "var",
                "name": "p"
              },
              "component": "Buffs",
              "field": "defenseBonus",
              "op": "set",
              "value": {
                "type": "literal",
                "value": 0.0
              }
            },
            {
              "type": "modify",
              "entity": {
                "type": "var",
                "name": "p"
              },
              "component": "Buffs",
              "field": "hasteBonus",
              "op": "set",
              "value": {
                "type": "literal",
                "value": 0.0
              }
            }
          ]
        },
        {
          "type": "conditional",
          "condition": {
            "type": "var",
            "name": "RunStats"
          },
          "then_actions": [
            {
              "type": "modify",
              "entity": {
                "type": "var",
                "name": "p"
              },
              "component": "RunStats",
              "field": "canFlee",
              "op": "set",
              "value": {
                "type": "literal",
                "value": true
              }
            }
          ]
        }
      ]
    },
    {
      "id": 12,
      "name": "grant_experience",
      "trigger": {
        "type": "event",
        "event": "EnemyDefeated"
      },
      "actions": [
        {
          "type": "conditional",
          "condition": {
            "type": "var",
            "name": "GameState"
          },
          "then_actions": [
            {
              "type": "let",
              "name": "players",
              "value": {
                "type": "call",
                "function": "entities_having",
                "args": [
                  {
                    "type": "literal",
                    "value": "Team"
                  }
                ]
              }
            },
            {
              "type": "loop",
              "variable": "player",
              "iterable": {
                "type": "var",
                "name": "players"
              },
              "body": [
                {
                  "type": "conditional",
                  "condition": {
                    "type": "field",
                    "entity": "player",
                    "component": "Team",
                    "field": "isPlayer"
                  },
                  "then_actions": [
                    {
                      "type": "modify",
                      "entity": {
                        "type": "var",
                        "name": "player"
                      },
                      "component": "Character",
                      "field": "experience",
                      "op": "add",
                      "value": {
                        "type": "literal",
                        "value": 50.0
                      }
                    },
                    {
                      "type": "schedule",
                      "event": "CheckLevelUp",
                      "fields": {
                        "source": {
                          "type": "var",
                          "name": "id"
                        }
                      }
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "id": 13,
      "name": "level_up_check",
      "trigger": {
        "type": "event",
        "event": "CheckLevelUp"
      },
      "actions": [
        {
          "type": "conditional",
          "condition": {
            "type": "binary",
            "op": "gte",
            "left": {
              "type": "field",
              "entity": "entity",
              "component": "Character",
              "field": "experience"
            },
            "right": {
              "type": "field",
              "entity": "entity",
              "component": "Character",
              "field": "experienceToLevel"
            }
          },
          "then_actions": [
            {
              "type": "modify",
              "entity": {
                "type": "var",
                "name": "entity"
              },
              "component": "Character",
              "field": "level",
              "op": "add",
              "value": {
                "type": "literal",
                "value": 1.0
              }
            },
            {
              "type": "modify",
              "entity": {
                "type": "var",
                "name": "entity"
              },
              "component": "Character",
              "field": "experience",
              "op": "subtract",
              "value": {
                "type": "field",
                "entity": "entity",
                "component": "Character",
                "field": "experienceToLevel"
              }
            },
            {
              "type": "modify",
              "entity": {
                "type": "var",
                "name": "entity"
              },
              "component": "Character",
              "field": "experienceToLevel",
              "op": "multiply",
              "value": {
                "type": "literal",
                "value": 1.5
              }
            },
            {
              "type": "modify",
              "entity": {
                "type": "var",
                "name": "entity"
              },
              "component": "Skills",
              "field": "skillPoints",
              "op": "add",
              "value": {
                "type": "literal",
                "value": 1.0
              }
            },
            {
              "type": "schedule",
              "event": "LevelUp",
              "fields": {
                "source": {
                  "type": "var",
                  "name": "id"
                }
              }
            },
            {
              "type": "schedule",
              "event": "SkillChoice",
              "fields": {
                "source": {
                  "type": "var",
                  "name": "id"
                }
              }
            }
          ]
        }
      ]
    },
    {
      "id": 14,
      "name": "level_up_stats",
      "trigger": {
        "type": "event",
        "event": "LevelUp"
      },
      "actions": [
        {
          "type": "modify",
          "entity": {
            "type": "var",
            "name": "entity"
          },
          "component": "Health",
          "field": "max",
          "op": "add",
          "value": {
            "type": "literal",
            "value": 10.0
          }
        },
        {
          "type": "modify",
          "entity": {
            "type": "var",
            "name": "entity"
          },
          "component": "Health",
          "field": "current",
          "op": "add",
          "value": {
            "type": "literal",
            "value": 10.0
          }
        },
        {
          "type": "modify",
          "entity": {
            "type": "var",
            "name": "entity"
          },
          "component": "Combat",
          "field": "damage",
          "op": "add",
          "value": {
            "type": "literal",
            "value": 2.0
          }
        },
        {
          "type": "modify",
          "entity": {
            "type": "var",
            "name": "entity"
          },
          "component": "Combat",
          "field": "defense",
          "op": "add",
          "value": {
            "type": "literal",
            "value": 1.0
          }
        }
      ]
    },
    {
      "id": 15,
      "name": "boss_defeated_victory",
      "trigger": {
        "type": "event",
        "event": "EnemyDefeated"
      },
      "actions": [
        {
          "type": "conditional",
          "condition": {
            "type": "var",
            "name": "GameState"
          },
          "then_actions": [
            {
              "type": "modify",
              "entity": {
                "type": "var",
                "name": "entity"
              },
              "component": "GameState",
              "field": "enemiesDefeated",
              "op": "add",
              "value": {
                "type": "literal",
                "value": 1.0
              }
            },
            {
              "type": "conditional",
              "condition": {
                "type": "var",
                "name": "isBoss"
              },
              "then_actions": [
                {
                  "type": "let",
                  "name": "defeated",
                  "value": {
                    "type": "var",
                    "name": "enemy"
                  }
                },
                {
                  "type": "conditional",
                  "condition": {
                    "type": "binary",
                    "op": "eq",
                    "left": {
                      "type": "field",
                      "entity": "defeated",
                      "component": "Enemy",
                      "field": "name"
                    },
                    "right": {
                      "type": "literal",
                      "value": "Lord Vexar"
                    }
                  },
                  "then_actions": [
                    {
                      "type": "modify",
                      "entity": {
                        "type": "var",
                        "name": "entity"
                      },
                      "component": "GameState",
                      "field": "bossDefeated",
                      "op": "set",
                      "value": {
                        "type": "literal",
                        "value": true
                      }
                    },
                    {
                      "type": "modify",
                      "entity": {
                        "type": "var",
                        "name": "entity"
                      },
                      "component": "GameState",
                      "field": "victory",
                      "op": "set",
                      "value": {
                        "type": "literal",
                        "value": true
                      }
                    },
                    {
                      "type": "modify",
                      "entity": {
                        "type": "var",
                        "name": "entity"
                      },
                      "component": "GameState",
                      "field": "gameOver",
                      "op": "set",
                      "value": {
                        "type": "literal",
                        "value": true
                      }
                    },
                    {
                      "type": "schedule",
                      "event": "GameOver",
                      "fields": {
                        "victory": {
                          "type": "literal",
                          "value": true
                        }
                      }
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "id": 16,
      "name": "spawn_replacement_enemy",
      "trigger": {
        "type": "event",
        "event": "EnemyDefeated"
      },
      "actions": [
        {
          "type": "conditional",
          "condition": {
            "type": "var",
            "name": "GameState"
          },
          "then_actions": [
            {
              "type": "conditional",
              "condition": {
                "type": "binary",
                "op": "and",
                "left": {
                  "type": "binary",
                  "op": "and",
                  "left": {
                    "type": "binary",
                    "op": "lt",
                    "left": {
                      "type": "field",
                      "entity": "entity",
                      "component": "GameState",
                      "field": "enemiesDefeated"
                    },
                    "right": {
                      "type": "literal",
                      "value": 1000.0
                    }
                  },
                  "right": {
                    "type": "binary",
                    "op": "eq",
                    "left": {
                      "type": "field",
                      "entity": "entity",
                      "component": "GameState",
                      "field": "gameOver"
                    },
                    "right": {
                      "type": "literal",
                      "value": false
                    }
                  }
                },
                "right": {
                  "type": "binary",
                  "op": "eq",
                  "left": {
                    "type": "field",
                    "entity": "entity",
                    "component": "GameState",
                    "field": "bossSpawned"
                  },
                  "right": {
                    "type": "literal",
                    "value": false
                  }
                }
              },
              "then_actions": [
                {
                  "type": "let",
                  "name": "currentTier",
                  "value": {
                    "type": "field",
                    "entity": "entity",
                    "component": "GameState",
                    "field": "currentTier"
                  }
                },
                {
                  "type": "schedule",
                  "event": "SpawnEnemy",
                  "delay": {
                    "type": "literal",
                    "value": 0.1
                  },
                  "fields": {
                    "tier": {
                      "type": "var",
                      "name": "currentTier"
                    }
                  }
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "id": 17,
      "name": "use_skill_power_strike",
      "trigger": {
        "type": "event",
        "event": "UseSkill"
      },
      "actions": [
        {
          "type": "conditional",
          "condition": {
            "type": "binary",
            "op": "eq",
            "left": {
              "type": "field",
              "entity": "entity",
              "component": "Skills",
              "field": "skill1"
            },
            "right": {
              "type": "literal",
              "value": "power_strike"
            }
          },
          "then_actions": [
            {
              "type": "modify",
              "entity": {
                "type": "var",
                "name": "entity"
              },
              "component": "Buffs",
              "field": "damageBonus",
              "op": "add",
              "value": {
                "type": "literal",
                "value": 5.0
              }
            }
          ]
        }
      ]
    },
    {
      "id": 18,
      "name": "use_skill_fireball",
      "trigger": {
        "type": "event",
        "event": "UseSkill"
      },
      "actions": [
        {
          "type": "conditional",
          "condition": {
            "type": "binary",
            "op": "and",
            "left": {
              "type": "binary",
              "op": "eq",
              "left": {
                "type": "field",
                "entity": "entity",
                "component": "Skills",
                "field": "skill1"
              },
              "right": {
                "type": "literal",
                "value": "fireball"
              }
            },
            "right": {
              "type": "binary",
              "op": "gte",
              "left": {
                "type": "field",
                "entity": "entity",
                "component": "Mana",
                "field": "current"
              },
              "right": {
                "type": "literal",
                "value": 20.0
              }
            }
          },
          "then_actions": [
            {
              "type": "modify",
              "entity": {
                "type": "var",
                "name": "entity"
              },
              "component": "Mana",
              "field": "current",
              "op": "subtract",
              "value": {
                "type": "literal",
                "value": 20.0
              }
            },
            {
              "type": "modify",
              "entity": {
                "type": "var",
                "name": "entity"
              },
              "component": "Buffs",
              "field": "damageBonus",
              "op": "add",
              "value": {
                "type": "literal",
                "value": 15.0
              }
            }
          ]
        }
      ]
    },
    {
      "id": 19,
      "name": "use_skill_heal",
      "trigger": {
        "type": "event",
        "event": "UseSkill"
      },
      "actions": [
        {
          "type": "conditional",
          "condition": {
            "type": "binary",
            "op": "and",
            "left": {
              "type": "binary",
              "op": "eq",
              "left": {
                "type": "field",
                "entity": "entity",
                "component": "Skills",
                "field": "skill1"
              },
              "right": {
                "type": "literal",
                "value": "heal"
              }
            },
            "right": {
              "type": "binary",
              "op": "gte",
              "left": {
                "type": "field",
                "entity": "entity",
                "component": "Mana",
                "field": "current"
              },
              "right": {
                "type": "literal",
                "value": 15.0
              }
            }
          },
          "then_actions": [
            {
              "type": "modify",
              "entity": {
                "type": "var",
                "name": "entity"
              },
              "component": "Mana",
              "field": "current",
              "op": "subtract",
              "value": {
                "type": "literal",
                "value": 15.0
              }
            },
            {
              "type": "modify",
              "entity": {
                "type": "var",
                "name": "entity"
              },
              "component": "Health",
              "field": "current",
              "op": "add",
              "value": {
                "type": "literal",
                "value": 30.0
              }
            }
          ]
        }
      ]
    },
    {
      "id": 20,
      "name": "use_skill_backstab",
      "trigger": {
        "type": "event",
        "event": "UseSkill"
      },
      "actions": [
        {
          "type": "conditional",
          "condition": {
            "type": "binary",
            "op": "eq",
            "left": {
              "type": "field",
              "entity": "entity",
              "component": "Skills",
              "field": "skill1"
            },
            "right": {
              "type": "literal",
              "value": "backstab"
            }
          },
          "then_actions": [
            {
              "type": "modify",
              "entity": {
                "type": "var",
                "name": "entity"
              },
              "component": "Combat",
              "field": "critChance",
              "op": "add",
              "value": {
                "type": "literal",
                "value": 0.25
              }
            }
          ]
        }
      ]
    },
    {
      "id": 21,
      "name": "mana_regen",
      "trigger": {
        "type": "event",
        "event": "ManaRegen"
      },
      "actions": [
        {
          "type": "conditional",
          "condition": {
            "type": "binary",
            "op": "gt",
            "left": {
              "type": "field",
              "entity": "entity",
              "component": "Health",
              "field": "current"
            },
            "right": {
              "type": "literal",
              "value": 0.0
            }
          },
          "then_actions": [
            {
              "type": "modify",
              "entity": {
                "type": "var",
                "name": "entity"
              },
              "component": "Mana",
              "field": "current",
              "op": "add",
              "value": {
                "type": "literal",
                "value": 5.0
              }
            },
            {
              "type": "schedule",
              "event": "ManaRegen",
              "delay": {
                "type": "literal",
                "value": 2.0
              },
              "fields": {
                "source": {
                  "type": "var",
                  "name": "id"
                }
              }
            }
          ]
        }
      ]
    },
    {
      "id": 22,
      "name": "count_player_death",
      "trigger": {
        "type": "event",
        "event": "PlayerDefeated"
      },
      "actions": [
        {
          "type": "conditional",
          "condition": {
            "type": "var",
            "name": "GameState"
          },
          "then_actions": [
            {
              "type": "modify",
              "entity": {
                "type": "var",
                "name": "entity"
              },
              "component": "GameState",
              "field": "playerDeaths",
              "op": "add",
              "value": {
                "type": "literal",
                "value": 1.0
              }
            }
          ]
        }
      ]
    },
    {
      "id": 23,
      "name": "apply_death_penalty",
      "trigger": {
        "type": "event",
        "event": "PlayerDefeated"
      },
      "actions": [
        {
          "type": "conditional",
          "condition": {
            "type": "binary",
            "op": "and",
            "left": {
              "type": "var",
              "name": "RunStats"
            },
            "right": {
              "type": "var",
              "name": "FleeConfig"
            }
          },
          "then_actions": [
            {
              "type": "modify",
              "entity": {
                "type": "var",
                "name": "entity"
              },
              "component": "RunStats",
              "field": "deathPenalty",
              "op": "add",
              "value": {
                "type": "binary",
                "op": "multiply",
                "left": {
                  "type": "field",
                  "entity": "entity",
                  "component": "FleeConfig",
                  "field": "retreatTimePenalty"
                },
                "right": {
                  "type": "field",
                  "entity": "entity",
                  "component": "FleeConfig",
                  "field": "deathTimePenaltyMultiplier"
                }
              }
            },
            {
              "type": "modify",
              "entity": {
                "type": "var",
                "name": "entity"
              },
              "component": "RunStats",
              "field": "totalTime",
              "op": "set",
              "value": {
                "type": "binary",
                "op": "add",
                "left": {
                  "type": "binary",
                  "op": "add",
                  "left": {
                    "type": "field",
                    "entity": "entity",
                    "component": "RunStats",
                    "field": "simulationTime"
                  },
                  "right": {
                    "type": "field",
                    "entity": "entity",
                    "component": "RunStats",
                    "field": "retreatPenalty"
                  }
                },
                "right": {
                  "type": "field",
                  "entity": "entity",
                  "component": "RunStats",
                  "field": "deathPenalty"
                }
              }
            },
            {
              "type": "schedule",
              "event": "UpdateRunStats"
            }
          ]
        }
      ]
    },
    {
      "id": 24,
      "name": "acquire_skill",
      "trigger": {
        "type": "event",
        "event": "AcquireSkill"
      },
      "actions": [
        {
          "type": "conditional",
          "condition": {
            "type": "binary",
            "op": "gt",
            "left": {
              "type": "field",
              "entity": "entity",
              "component": "Skills",
              "field": "skillPoints"
            },
            "right": {
              "type": "literal",
              "value": 0.0
            }
          },
          "then_actions": [
            {
              "type": "modify",
              "entity": {
                "type": "var",
                "name": "entity"
              },
              "component": "Skills",
              "field": "skillPoints",
              "op": "subtract",
              "value": {
                "type": "literal",
                "value": 1.0
              }
            },
            {
              "type": "schedule",
              "event": "SkillAcquired",
              "fields": {
                "character": {
                  "type": "var",
                  "name": "id"
                }
              }
            }
          ]
        }
      ]
    },
    {
      "id": 25,
      "name": "flee_battle",
      "trigger": {
        "type": "event",
        "event": "FleeFromBattle"
      },
      "actions": [
        {
          "type": "conditional",
          "condition": {
            "type": "binary",
            "op": "and",
            "left": {
              "type": "var",
              "name": "RunStats"
            },
            "right": {
              "type": "var",
              "name": "FleeConfig"
            }
          },
          "then_actions": [
            {
              "type": "let",
              "name": "timeSinceFlee",
              "value": {
                "type": "binary",
                "op": "subtract",
                "left": {
                  "type": "field",
                  "entity": "entity",
                  "component": "RunStats",
                  "field": "simulationTime"
                },
                "right": {
                  "type": "field",
                  "entity": "entity",
                  "component": "RunStats",
                  "field": "lastFleeTime"
                }
              }
            },
            {
              "type": "conditional",
              "condition": {
                "type": "binary",
                "op": "gte",
                "left": {
                  "type": "var",
                  "name": "timeSinceFlee"
                },
                "right": {
                  "type": "field",
                  "entity": "entity",
                  "component": "FleeConfig",
                  "field": "fleeCooldown"
                }
              },
              "then_actions": [
                {
                  "type": "modify",
                  "entity": {
                    "type": "var",
                    "name": "entity"
                  },
                  "component": "RunStats",
                  "field": "retreatCount",
                  "op": "add",
                  "value": {
                    "type": "literal",
                    "value": 1.0
                  }
                },
                {
                  "type": "modify",
                  "entity": {
                    "type": "var",
                    "name": "entity"
                  },
                  "component": "RunStats",
                  "field": "retreatPenalty",
                  "op": "add",
                  "value": {
                    "type": "field",
                    "entity": "entity",
                    "component": "FleeConfig",
                    "field": "retreatTimePenalty"
                  }
                },
                {
                  "type": "modify",
                  "entity": {
                    "type": "var",
                    "name": "entity"
                  },
                  "component": "RunStats",
                  "field": "lastFleeTime",
                  "op": "set",
                  "value": {
                    "type": "field",
                    "entity": "entity",
                    "component": "RunStats",
                    "field": "simulationTime"
                  }
                },
                {
                  "type": "modify",
                  "entity": {
                    "type": "var",
                    "name": "entity"
                  },
                  "component": "RunStats",
                  "field": "canFlee",
                  "op": "set",
                  "value": {
                    "type": "literal",
                    "value": false
                  }
                },
                {
                  "type": "modify",
                  "entity": {
                    "type": "var",
                    "name": "entity"
                  },
                  "component": "RunStats",
                  "field": "totalTime",
                  "op": "set",
                  "value": {
                    "type": "binary",
                    "op": "add",
                    "left": {
                      "type": "binary",
                      "op": "add",
                      "left": {
                        "type": "field",
                        "entity": "entity",
                        "component": "RunStats",
                        "field": "simulationTime"
                      },
                      "right": {
                        "type": "field",
                        "entity": "entity",
                        "component": "RunStats",
                        "field": "retreatPenalty"
                      }
                    },
                    "right": {
                      "type": "field",
                      "entity": "entity",
                      "component": "RunStats",
                      "field": "deathPenalty"
                    }
                  }
                },
                {
                  "type": "schedule",
                  "event": "DespawnAllEnemies"
                },
                {
                  "type": "schedule",
                  "event": "SpawnEnemyWave",
                  "delay": {
                    "type": "literal",
                    "value": 0.5
                  }
                },
                {
                  "type": "schedule",
                  "event": "UpdateRunStats"
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "id": 26,
      "name": "despawn_enemies",
      "trigger": {
        "type": "event",
        "event": "DespawnAllEnemies"
      },
      "actions": [
        {
          "type": "conditional",
          "condition": {
            "type": "binary",
            "op": "gt",
            "left": {
              "type": "field",
              "entity": "entity",
              "component": "Enemy",
              "field": "tier"
            },
            "right": {
              "type": "literal",
              "value": 0.0
            }
          },
          "then_actions": [
            {
              "type": "modify",
              "entity": {
                "type": "var",
                "name": "entity"
              },
              "component": "Health",
              "field": "current",
              "op": "set",
              "value": {
                "type": "literal",
                "value": 0.0
              }
            },
            {
              "type": "schedule",
              "event": "RemoveEntity",
              "fields": {
                "target": {
                  "type": "var",
                  "name": "id"
                }
              }
            }
          ]
        }
      ]
    },
    {
      "id": 27,
      "name": "update_flee_cooldown",
      "trigger": {
        "type": "event",
        "event": "UpdateRunStats"
      },
      "actions": [
        {
          "type": "conditional",
          "condition": {
            "type": "binary",
            "op": "and",
            "left": {
              "type": "var",
              "name": "RunStats"
            },
            "right": {
              "type": "var",
              "name": "FleeConfig"
            }
          },
          "then_actions": [
            {
              "type": "let",
              "name": "timeSinceFlee",
              "value": {
                "type": "binary",
                "op": "subtract",
                "left": {
                  "type": "field",
                  "entity": "entity",
                  "component": "RunStats",
                  "field": "simulationTime"
                },
                "right": {
                  "type": "field",
                  "entity": "entity",
                  "component": "RunStats",
                  "field": "lastFleeTime"
                }
              }
            },
            {
              "type": "conditional",
              "condition": {
                "type": "binary",
                "op": "gte",
                "left": {
                  "type": "var",
                  "name": "timeSinceFlee"
                },
                "right": {
                  "type": "field",
                  "entity": "entity",
                  "component": "FleeConfig",
                  "field": "fleeCooldown"
                }
              },
              "then_actions": [
                {
                  "type": "modify",
                  "entity": {
                    "type": "var",
                    "name": "entity"
                  },
                  "component": "RunStats",
                  "field": "canFlee",
                  "op": "set",
                  "value": {
                    "type": "literal",
                    "value": true
                  }
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "id": 28,
      "name": "complete_run",
      "trigger": {
        "type": "event",
        "event": "GameOver"
      },
      "actions": [
        {
          "type": "conditional",
          "condition": {
            "type": "binary",
            "op": "and",
            "left": {
              "type": "var",
              "name": "RunStats"
            },
            "right": {
              "type": "var",
              "name": "GameState"
            }
          },
          "then_actions": [
            {
              "type": "schedule",
              "event": "SaveRunToLeaderboard",
              "fields": {
                "completionTime": {
                  "type": "field",
                  "entity": "entity",
                  "component": "RunStats",
                  "field": "totalTime"
                },
                "enemiesDefeated": {
                  "type": "field",
                  "entity": "entity",
                  "component": "GameState",
                  "field": "enemiesDefeated"
                },
                "playerDeaths": {
                  "type": "field",
                  "entity": "entity",
                  "component": "GameState",
                  "field": "playerDeaths"
                },
                "retreats": {
                  "type": "field",
                  "entity": "entity",
                  "component": "RunStats",
                  "field": "retreatCount"
                },
                "retreatPenalty": {
                  "type": "field",
                  "entity": "entity",
                  "component": "RunStats",
                  "field": "retreatPenalty"
                },
                "deathPenalty": {
                  "type": "field",
                  "entity": "entity",
                  "component": "RunStats",
                  "field": "deathPenalty"
                },
                "victory": {
                  "type": "field",
                  "entity": "entity",
                  "component": "GameState",
                  "field": "victory"
                }
              }
            }
          ]
        }
      ]
    },
    {
      "id": 29,
      "name": "start_global_retargeting",
      "trigger": {
        "type": "event",
        "event": "EnemySpawned"
      },
      "actions": [
        {
          "type": "conditional",
          "condition": {
            "type": "var",
            "name": "GameState"
          },
          "then_actions": [
            {
              "type": "conditional",
              "condition": {
                "type": "binary",
                "op": "and",
                "left": {
                  "type": "binary",
                  "op": "eq",
                  "left": {
                    "type": "field",
                    "entity": "entity",
                    "component": "GameState",
                    "field": "currentWave"
                  },
                  "right": {
                    "type": "literal",
                    "value": 1.0
                  }
                },
                "right": {
                  "type": "binary",
                  "op": "eq",
                  "left": {
                    "type": "field",
                    "entity": "entity",
                    "component": "GameState",
                    "field": "retargetingActive"
                  },
                  "right": {
                    "type": "literal",
                    "value": false
                  }
                }
              },
              "then_actions": [
                {
                  "type": "modify",
                  "entity": {
                    "type": "var",
                    "name": "entity"
                  },
                  "component": "GameState",
                  "field": "retargetingActive",
                  "op": "set",
                  "value": {
                    "type": "literal",
                    "value": true
                  }
                },
                {
                  "type": "schedule",
                  "event": "CheckAllTargets",
                  "delay": {
                    "type": "literal",
                    "value": 2.0
                  }
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "id": 30,
      "name": "check_entity_target",
      "trigger": {
        "type": "event",
        "event": "CheckAllTargets"
      },
      "actions": [
        {
          "type": "conditional",
          "condition": {
            "type": "binary",
            "op": "gt",
            "left": {
              "type": "field",
              "entity": "entity",
              "component": "Health",
              "field": "current"
            },
            "right": {
              "type": "literal",
              "value": 0.0
            }
          },
          "then_actions": [
            {
              "type": "let",
              "name": "target",
              "value": {
                "type": "field",
                "entity": "entity",
                "component": "Target",
                "field": "entity"
              }
            },
            {
              "type": "conditional",
              "condition": {
                "type": "binary",
                "op": "or",
                "left": {
                  "type": "binary",
                  "op": "eq",
                  "left": {
                    "type": "var",
                    "name": "target"
                  },
                  "right": {
                    "type": "literal",
                    "value": null
                  }
                },
                "right": {
                  "type": "binary",
                  "op": "lte",
                  "left": {
                    "type": "field",
                    "entity": "target",
                    "component": "Health",
                    "field": "current"
                  },
                  "right": {
                    "type": "literal",
                    "value": 0.0
                  }
                }
              },
              "then_actions": [
                {
                  "type": "schedule",
                  "event": "FindNewTarget",
                  "fields": {
                    "seeker": {
                      "type": "var",
                      "name": "id"
                    }
                  }
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "id": 31,
      "name": "reschedule_retargeting",
      "trigger": {
        "type": "event",
        "event": "CheckAllTargets"
      },
      "actions": [
        {
          "type": "conditional",
          "condition": {
            "type": "var",
            "name": "GameState"
          },
          "then_actions": [
            {
              "type": "conditional",
              "condition": {
                "type": "binary",
                "op": "and",
                "left": {
                  "type": "field",
                  "entity": "entity",
                  "component": "GameState",
                  "field": "retargetingActive"
                },
                "right": {
                  "type": "binary",
                  "op": "eq",
                  "left": {
                    "type": "field",
                    "entity": "entity",
                    "component": "GameState",
                    "field": "gameOver"
                  },
                  "right": {
                    "type": "literal",
                    "value": false
                  }
                }
              },
              "then_actions": [
                {
                  "type": "schedule",
                  "event": "CheckAllTargets",
                  "delay": {
                    "type": "literal",
                    "value": 2.0
                  }
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "id": 32,
      "name": "find_new_target",
      "trigger": {
        "type": "event",
        "event": "FindNewTarget"
      },
      "actions": [
        {
          "type": "let",
          "name": "seeker",
          "value": {
            "type": "var",
            "name": "seeker"
          }
        },
        {
          "type": "modify",
          "entity": {
            "type": "var",
            "name": "seeker"
          },
          "component": "Target",
          "field": "entity",
          "op": "set",
          "value": {
            "type": "literal",
            "value": null
          }
        }
      ]
    }
  ],
  "functions": [
    {
      "id": 0,
      "name": "calculate_damage",
      "params": [
        {
          "name": "base",
          "type": {
            "type": "number"
          }
        },
        {
          "name": "bonus",
          "type": {
            "type": "number"
          }
        }
      ],
      "return_type": {
        "type": "number"
      },
      "body": {
        "type": "binary",
        "op": "add",
        "left": {
          "type": "var",
          "name": "base"
        },
        "right": {
          "type": "var",
          "name": "bonus"
        }
      }
    },
    {
      "id": 1,
      "name": "calculate_exp_for_level",
      "params": [
        {
          "name": "level",
          "type": {
            "type": "number"
          }
        }
      ],
      "return_type": {
        "type": "number"
      },
      "body": {
        "type": "binary",
        "op": "multiply",
        "left": {
          "type": "literal",
          "value": 100.0
        },
        "right": {
          "type": "var",
          "name": "level"
        }
      }
    }
  ],
  "initial_state": {
    "entities": [
      {
        "id": 0,
        "components": {
          "Character": {
            "name": "Sir Braveheart",
            "class": "Warrior",
            "level": 1.0,
            "experience": 0.0,
            "experienceToLevel": 100.0
          },
          "Health": {
            "current": 120.0,
            "max": 120.0
          },
          "Mana": {
            "current": 30.0,
            "max": 30.0
          },
          "Stats": {
            "strength": 16.0,
            "dexterity": 10.0,
            "intelligence": 8.0,
            "constitution": 14.0,
            "wisdom": 8.0
          },
          "Combat": {
            "damage": 18.0,
            "defense": 10.0,
            "attackSpeed": 0.8,
            "critChance": 0.1,
            "critMultiplier": 1.5
          },
          "Team": {
            "id": "player",
            "isPlayer": true
          },
          "Skills": {
            "skill1": "power_strike",
            "skill2": "",
            "skill3": "",
            "skill4": "",
            "skillPoints": 0.0
          },
          "Buffs": {
            "damageBonus": 0.0,
            "defenseBonus": 0.0,
            "hasteBonus": 0.0,
            "shieldAmount": 0.0,
            "regenAmount": 0.0
          },
          "HeroInfo": {
            "id": "warrior",
            "description": "A stalwart defender with unmatched strength. Wields heavy armor and weapons, protecting allies while dealing devastating melee damage.",
            "difficulty": "Easy",
            "role": "Tank / Melee DPS",
            "playstyle": "Get in close and deal consistent damage while absorbing enemy attacks"
          },
          "HeroTemplate": {
            "isTemplate": true
          }
        },
        "bound_functions": {
          "select_attack_target": {
            "params": [
              {
                "name": "character",
                "type": {
                  "type": "entity"
                }
              },
              {
                "name": "enemies",
                "type": {
                  "type": "list",
                  "element": {
                    "type": "entity"
                  }
                }
              }
            ],
            "return_type": {
              "type": "entity"
            },
            "body": {
              "type": "var",
              "name": "id"
            }
          },
          "select_combat_skill": {
            "params": [
              {
                "name": "character",
                "type": {
                  "type": "entity"
                }
              },
              {
                "name": "allies",
                "type": {
                  "type": "list",
                  "element": {
                    "type": "entity"
                  }
                }
              },
              {
                "name": "enemies",
                "type": {
                  "type": "list",
                  "element": {
                    "type": "entity"
                  }
                }
              }
            ],
            "return_type": {
              "type": "string"
            },
            "body": {
              "type": "literal",
              "value": "basic_attack"
            }
          },
          "select_skill_on_levelup": {
            "params": [
              {
                "name": "character",
                "type": {
                  "type": "entity"
                }
              },
              {
                "name": "currentLevel",
                "type": {
                  "type": "entity"
                }
              }
            ],
            "return_type": {
              "type": "string"
            },
            "body": {
              "type": "literal",
              "value": "power_strike"
            }
          }
        }
      },
      {
        "id": 1,
        "components": {
          "Character": {
            "name": "Gorak the Unbreakable",
            "class": "Warrior",
            "level": 1.0,
            "experience": 0.0,
            "experienceToLevel": 100.0
          },
          "Health": {
            "current": 140.0,
            "max": 140.0
          },
          "Mana": {
            "current": 20.0,
            "max": 20.0
          },
          "Stats": {
            "strength": 14.0,
            "dexterity": 8.0,
            "intelligence": 6.0,
            "constitution": 18.0,
            "wisdom": 10.0
          },
          "Combat": {
            "damage": 15.0,
            "defense": 12.0,
            "attackSpeed": 0.7,
            "critChance": 0.05,
            "critMultiplier": 1.5
          },
          "Team": {
            "id": "player",
            "isPlayer": true
          },
          "Skills": {
            "skill1": "power_strike",
            "skill2": "",
            "skill3": "",
            "skill4": "",
            "skillPoints": 0.0
          },
          "Buffs": {
            "damageBonus": 0.0,
            "defenseBonus": 0.0,
            "hasteBonus": 0.0,
            "shieldAmount": 0.0,
            "regenAmount": 0.0
          },
          "HeroInfo": {
            "id": "warrior2",
            "description": "A veteran warrior forged in countless battles. Specializes in defensive tactics and outlasting enemies through superior endurance.",
            "difficulty": "Easy",
            "role": "Tank / Defensive",
            "playstyle": "Extreme durability and defense, absorbs massive amounts of damage"
          },
          "HeroTemplate": {
            "isTemplate": true
          }
        },
        "bound_functions": {
          "select_attack_target": {
            "params": [
              {
                "name": "character",
                "type": {
                  "type": "entity"
                }
              },
              {
                "name": "enemies",
                "type": {
                  "type": "list",
                  "element": {
                    "type": "entity"
                  }
                }
              }
            ],
            "return_type": {
              "type": "entity"
            },
            "body": {
              "type": "var",
              "name": "id"
            }
          },
          "select_combat_skill": {
            "params": [
              {
                "name": "character",
                "type": {
                  "type": "entity"
                }
              },
              {
                "name": "allies",
                "type": {
                  "type": "list",
                  "element": {
                    "type": "entity"
                  }
                }
              },
              {
                "name": "enemies",
                "type": {
                  "type": "list",
                  "element": {
                    "type": "entity"
                  }
                }
              }
            ],
            "return_type": {
              "type": "string"
            },
            "body": {
              "type": "literal",
              "value": "basic_attack"
            }
          },
          "select_skill_on_levelup": {
            "params": [
              {
                "name": "character",
                "type": {
                  "type": "entity"
                }
              },
              {
                "name": "currentLevel",
                "type": {
                  "type": "entity"
                }
              }
            ],
            "return_type": {
              "type": "string"
            },
            "body": {
              "type": "literal",
              "value": "power_strike"
            }
          }
        }
      },
      {
        "id": 2,
        "components": {
          "Character": {
            "name": "Valkyrie Stormblade",
            "class": "Warrior",
            "level": 1.0,
            "experience": 0.0,
            "experienceToLevel": 100.0
          },
          "Health": {
            "current": 105.0,
            "max": 105.0
          },
          "Mana": {
            "current": 35.0,
            "max": 35.0
          },
          "Stats": {
            "strength": 15.0,
            "dexterity": 14.0,
            "intelligence": 8.0,
            "constitution": 12.0,
            "wisdom": 8.0
          },
          "Combat": {
            "damage": 20.0,
            "defense": 8.0,
            "attackSpeed": 1.0,
            "critChance": 0.1,
            "critMultiplier": 1.5
          },
          "Team": {
            "id": "player",
            "isPlayer": true
          },
          "Skills": {
            "skill1": "power_strike",
            "skill2": "",
            "skill3": "",
            "skill4": "",
            "skillPoints": 0.0
          },
          "Buffs": {
            "damageBonus": 0.0,
            "defenseBonus": 0.0,
            "hasteBonus": 0.0,
            "shieldAmount": 0.0,
            "regenAmount": 0.0
          },
          "HeroInfo": {
            "id": "warrior3",
            "description": "A fierce warrior who values speed over raw defense. Delivers rapid strikes with medium armor for balanced offense and defense.",
            "difficulty": "Medium",
            "role": "Melee DPS / Bruiser",
            "playstyle": "Fast-paced melee combat with balanced offense and defense"
          },
          "HeroTemplate": {
            "isTemplate": true
          }
        }
      },
      {
        "id": 3,
        "components": {
          "Character": {
            "name": "Titan Ironheart",
            "class": "Warrior",
            "level": 1.0,
            "experience": 0.0,
            "experienceToLevel": 100.0
          },
          "Health": {
            "current": 130.0,
            "max": 130.0
          },
          "Mana": {
            "current": 25.0,
            "max": 25.0
          },
          "Stats": {
            "strength": 20.0,
            "dexterity": 6.0,
            "intelligence": 6.0,
            "constitution": 16.0,
            "wisdom": 8.0
          },
          "Combat": {
            "damage": 28.0,
            "defense": 11.0,
            "attackSpeed": 0.5,
            "critChance": 0.1,
            "critMultiplier": 1.5
          },
          "Team": {
            "id": "player",
            "isPlayer": true
          },
          "Skills": {
            "skill1": "power_strike",
            "skill2": "",
            "skill3": "",
            "skill4": "",
            "skillPoints": 0.0
          },
          "Buffs": {
            "damageBonus": 0.0,
            "defenseBonus": 0.0,
            "hasteBonus": 0.0,
            "shieldAmount": 0.0,
            "regenAmount": 0.0
          },
          "HeroInfo": {
            "id": "warrior4",
            "description": "A colossal warrior wielding a massive two-handed weapon. Trades speed for overwhelming power with each strike.",
            "difficulty": "Easy",
            "role": "Heavy DPS / Tank",
            "playstyle": "Devastating slow attacks that hit extremely hard"
          },
          "HeroTemplate": {
            "isTemplate": true
          }
        }
      },
      {
        "id": 4,
        "components": {
          "Character": {
            "name": "Bladestorm",
            "class": "Warrior",
            "level": 1.0,
            "experience": 0.0,
            "experienceToLevel": 100.0
          },
          "Health": {
            "current": 95.0,
            "max": 95.0
          },
          "Mana": {
            "current": 30.0,
            "max": 30.0
          },
          "Stats": {
            "strength": 16.0,
            "dexterity": 16.0,
            "intelligence": 6.0,
            "constitution": 10.0,
            "wisdom": 8.0
          },
          "Combat": {
            "damage": 24.0,
            "defense": 6.0,
            "attackSpeed": 1.3,
            "critChance": 0.15,
            "critMultiplier": 1.5
          },
          "Team": {
            "id": "player",
            "isPlayer": true
          },
          "Skills": {
            "skill1": "power_strike",
            "skill2": "",
            "skill3": "",
            "skill4": "",
            "skillPoints": 0.0
          },
          "Buffs": {
            "damageBonus": 0.0,
            "defenseBonus": 0.0,
            "hasteBonus": 0.0,
            "shieldAmount": 0.0,
            "regenAmount": 0.0
          },
          "HeroInfo": {
            "id": "warrior5",
            "description": "A dual-wielding warrior who sacrifices defense for rapid, relentless assault. Glass cannon melee fighter with high risk, high reward.",
            "difficulty": "Hard",
            "role": "Melee DPS / Glass Cannon",
            "playstyle": "Extremely aggressive high-speed melee with low survivability"
          },
          "HeroTemplate": {
            "isTemplate": true
          }
        }
      },
      {
        "id": 5,
        "components": {
          "Character": {
            "name": "Elara Flamecaster",
            "class": "Mage",
            "level": 1.0,
            "experience": 0.0,
            "experienceToLevel": 100.0
          },
          "Health": {
            "current": 70.0,
            "max": 70.0
          },
          "Mana": {
            "current": 100.0,
            "max": 100.0
          },
          "Stats": {
            "strength": 6.0,
            "dexterity": 12.0,
            "intelligence": 18.0,
            "constitution": 8.0,
            "wisdom": 14.0
          },
          "Combat": {
            "damage": 25.0,
            "defense": 4.0,
            "attackSpeed": 0.6,
            "critChance": 0.1,
            "critMultiplier": 2.0
          },
          "Team": {
            "id": "player",
            "isPlayer": true
          },
          "Skills": {
            "skill1": "fireball",
            "skill2": "",
            "skill3": "",
            "skill4": "",
            "skillPoints": 0.0
          },
          "Buffs": {
            "damageBonus": 0.0,
            "defenseBonus": 0.0,
            "hasteBonus": 0.0,
            "shieldAmount": 0.0,
            "regenAmount": 0.0
          },
          "HeroInfo": {
            "id": "mage",
            "description": "A master of elemental magic who rains destruction from afar. High damage output but fragile - positioning and mana management are key.",
            "difficulty": "Medium",
            "role": "Ranged DPS / AoE",
            "playstyle": "Maximize spell damage while managing mana and staying out of danger"
          },
          "HeroTemplate": {
            "isTemplate": true
          }
        },
        "bound_functions": {
          "select_attack_target": {
            "params": [
              {
                "name": "character",
                "type": {
                  "type": "entity"
                }
              },
              {
                "name": "enemies",
                "type": {
                  "type": "list",
                  "element": {
                    "type": "entity"
                  }
                }
              }
            ],
            "return_type": {
              "type": "entity"
            },
            "body": {
              "type": "var",
              "name": "id"
            }
          },
          "select_combat_skill": {
            "params": [
              {
                "name": "character",
                "type": {
                  "type": "entity"
                }
              },
              {
                "name": "allies",
                "type": {
                  "type": "list",
                  "element": {
                    "type": "entity"
                  }
                }
              },
              {
                "name": "enemies",
                "type": {
                  "type": "list",
                  "element": {
                    "type": "entity"
                  }
                }
              }
            ],
            "return_type": {
              "type": "string"
            },
            "body": {
              "type": "literal",
              "value": "basic_attack"
            }
          },
          "select_skill_on_levelup": {
            "params": [
              {
                "name": "character",
                "type": {
                  "type": "entity"
                }
              },
              {
                "name": "currentLevel",
                "type": {
                  "type": "entity"
                }
              }
            ],
            "return_type": {
              "type": "string"
            },
            "body": {
              "type": "literal",
              "value": "fireball"
            }
          }
        }
      },
      {
        "id": 6,
        "components": {
          "Character": {
            "name": "Zephyr the Archmage",
            "class": "Mage",
            "level": 1.0,
            "experience": 0.0,
            "experienceToLevel": 100.0
          },
          "Health": {
            "current": 65.0,
            "max": 65.0
          },
          "Mana": {
            "current": 120.0,
            "max": 120.0
          },
          "Stats": {
            "strength": 4.0,
            "dexterity": 10.0,
            "intelligence": 20.0,
            "constitution": 6.0,
            "wisdom": 16.0
          },
          "Combat": {
            "damage": 30.0,
            "defense": 3.0,
            "attackSpeed": 0.5,
            "critChance": 0.15,
            "critMultiplier": 2.0
          },
          "Team": {
            "id": "player",
            "isPlayer": true
          },
          "Skills": {
            "skill1": "fireball",
            "skill2": "",
            "skill3": "",
            "skill4": "",
            "skillPoints": 0.0
          },
          "Buffs": {
            "damageBonus": 0.0,
            "defenseBonus": 0.0,
            "hasteBonus": 0.0,
            "shieldAmount": 0.0,
            "regenAmount": 0.0
          },
          "HeroInfo": {
            "id": "mage2",
            "description": "A brilliant arcane scholar who prioritizes raw magical power. Highest damage potential but requires careful mana management.",
            "difficulty": "Hard",
            "role": "Ranged DPS / Burst",
            "playstyle": "Maximum spell power with lowest survivability - nuclear glass cannon"
          },
          "HeroTemplate": {
            "isTemplate": true
          }
        }
      },
      {
        "id": 7,
        "components": {
          "Character": {
            "name": "Frost Weaver Selene",
            "class": "Mage",
            "level": 1.0,
            "experience": 0.0,
            "experienceToLevel": 100.0
          },
          "Health": {
            "current": 80.0,
            "max": 80.0
          },
          "Mana": {
            "current": 90.0,
            "max": 90.0
          },
          "Stats": {
            "strength": 6.0,
            "dexterity": 10.0,
            "intelligence": 16.0,
            "constitution": 10.0,
            "wisdom": 14.0
          },
          "Combat": {
            "damage": 22.0,
            "defense": 6.0,
            "attackSpeed": 0.7,
            "critChance": 0.1,
            "critMultiplier": 2.0
          },
          "Team": {
            "id": "player",
            "isPlayer": true
          },
          "Skills": {
            "skill1": "fireball",
            "skill2": "",
            "skill3": "",
            "skill4": "",
            "skillPoints": 0.0
          },
          "Buffs": {
            "damageBonus": 0.0,
            "defenseBonus": 0.0,
            "hasteBonus": 0.0,
            "shieldAmount": 0.0,
            "regenAmount": 0.0
          },
          "HeroInfo": {
            "id": "mage3",
            "description": "A frost mage who balances damage with survivability. Ice shields provide extra protection while slowing enemies.",
            "difficulty": "Medium",
            "role": "Ranged DPS / Control",
            "playstyle": "Balanced caster with defensive capabilities and crowd control"
          },
          "HeroTemplate": {
            "isTemplate": true
          }
        }
      },
      {
        "id": 8,
        "components": {
          "Character": {
            "name": "Lightning Caller Volt",
            "class": "Mage",
            "level": 1.0,
            "experience": 0.0,
            "experienceToLevel": 100.0
          },
          "Health": {
            "current": 72.0,
            "max": 72.0
          },
          "Mana": {
            "current": 95.0,
            "max": 95.0
          },
          "Stats": {
            "strength": 6.0,
            "dexterity": 14.0,
            "intelligence": 17.0,
            "constitution": 8.0,
            "wisdom": 12.0
          },
          "Combat": {
            "damage": 20.0,
            "defense": 4.0,
            "attackSpeed": 0.9,
            "critChance": 0.1,
            "critMultiplier": 2.0
          },
          "Team": {
            "id": "player",
            "isPlayer": true
          },
          "Skills": {
            "skill1": "fireball",
            "skill2": "",
            "skill3": "",
            "skill4": "",
            "skillPoints": 0.0
          },
          "Buffs": {
            "damageBonus": 0.0,
            "defenseBonus": 0.0,
            "hasteBonus": 0.0,
            "shieldAmount": 0.0,
            "regenAmount": 0.0
          },
          "HeroInfo": {
            "id": "mage4",
            "description": "A storm mage specializing in quick-casting lightning spells. Fast casting speed with moderate damage per hit.",
            "difficulty": "Medium",
            "role": "Ranged DPS / Sustained",
            "playstyle": "Rapid-fire spell casting for consistent damage output"
          },
          "HeroTemplate": {
            "isTemplate": true
          }
        }
      },
      {
        "id": 9,
        "components": {
          "Character": {
            "name": "Sage Emberwick",
            "class": "Mage",
            "level": 1.0,
            "experience": 0.0,
            "experienceToLevel": 100.0
          },
          "Health": {
            "current": 75.0,
            "max": 75.0
          },
          "Mana": {
            "current": 110.0,
            "max": 110.0
          },
          "Stats": {
            "strength": 6.0,
            "dexterity": 12.0,
            "intelligence": 16.0,
            "constitution": 9.0,
            "wisdom": 18.0
          },
          "Combat": {
            "damage": 23.0,
            "defense": 5.0,
            "attackSpeed": 0.6,
            "critChance": 0.1,
            "critMultiplier": 2.0
          },
          "Team": {
            "id": "player",
            "isPlayer": true
          },
          "Skills": {
            "skill1": "fireball",
            "skill2": "",
            "skill3": "",
            "skill4": "",
            "skillPoints": 0.0
          },
          "Buffs": {
            "damageBonus": 0.0,
            "defenseBonus": 0.0,
            "hasteBonus": 0.0,
            "shieldAmount": 0.0,
            "regenAmount": 0.0
          },
          "HeroInfo": {
            "id": "mage5",
            "description": "A scholarly mage focused on mana efficiency and long-term sustainability. Lower burst but never runs out of mana.",
            "difficulty": "Easy",
            "role": "Ranged DPS / Sustain",
            "playstyle": "Efficient spell usage with excellent mana regeneration"
          },
          "HeroTemplate": {
            "isTemplate": true
          }
        }
      },
      {
        "id": 10,
        "components": {
          "Character": {
            "name": "Shadow",
            "class": "Rogue",
            "level": 1.0,
            "experience": 0.0,
            "experienceToLevel": 100.0
          },
          "Health": {
            "current": 80.0,
            "max": 80.0
          },
          "Mana": {
            "current": 50.0,
            "max": 50.0
          },
          "Stats": {
            "strength": 10.0,
            "dexterity": 18.0,
            "intelligence": 10.0,
            "constitution": 10.0,
            "wisdom": 8.0
          },
          "Combat": {
            "damage": 22.0,
            "defense": 6.0,
            "attackSpeed": 1.4,
            "critChance": 0.25,
            "critMultiplier": 2.5
          },
          "Team": {
            "id": "player",
            "isPlayer": true
          },
          "Skills": {
            "skill1": "backstab",
            "skill2": "",
            "skill3": "",
            "skill4": "",
            "skillPoints": 0.0
          },
          "Buffs": {
            "damageBonus": 0.0,
            "defenseBonus": 0.0,
            "hasteBonus": 0.0,
            "shieldAmount": 0.0,
            "regenAmount": 0.0
          },
          "HeroInfo": {
            "id": "rogue",
            "description": "Swift and deadly, striking from the shadows. Relies on critical hits and burst damage to eliminate high-priority targets quickly.",
            "difficulty": "Medium",
            "role": "Melee DPS / Assassin",
            "playstyle": "Focus on eliminating priority targets with high burst damage and crits"
          },
          "HeroTemplate": {
            "isTemplate": true
          }
        },
        "bound_functions": {
          "select_attack_target": {
            "params": [
              {
                "name": "character",
                "type": {
                  "type": "entity"
                }
              },
              {
                "name": "enemies",
                "type": {
                  "type": "list",
                  "element": {
                    "type": "entity"
                  }
                }
              }
            ],
            "return_type": {
              "type": "entity"
            },
            "body": {
              "type": "var",
              "name": "id"
            }
          },
          "select_combat_skill": {
            "params": [
              {
                "name": "character",
                "type": {
                  "type": "entity"
                }
              },
              {
                "name": "allies",
                "type": {
                  "type": "list",
                  "element": {
                    "type": "entity"
                  }
                }
              },
              {
                "name": "enemies",
                "type": {
                  "type": "list",
                  "element": {
                    "type": "entity"
                  }
                }
              }
            ],
            "return_type": {
              "type": "string"
            },
            "body": {
              "type": "literal",
              "value": "basic_attack"
            }
          },
          "select_skill_on_levelup": {
            "params": [
              {
                "name": "character",
                "type": {
                  "type": "entity"
                }
              },
              {
                "name": "currentLevel",
                "type": {
                  "type": "entity"
                }
              }
            ],
            "return_type": {
              "type": "string"
            },
            "body": {
              "type": "literal",
              "value": "backstab"
            }
          }
        }
      },
      {
        "id": 11,
        "components": {
          "Character": {
            "name": "Viper",
            "class": "Rogue",
            "level": 1.0,
            "experience": 0.0,
            "experienceToLevel": 100.0
          },
          "Health": {
            "current": 75.0,
            "max": 75.0
          },
          "Mana": {
            "current": 55.0,
            "max": 55.0
          },
          "Stats": {
            "strength": 8.0,
            "dexterity": 18.0,
            "intelligence": 12.0,
            "constitution": 8.0,
            "wisdom": 10.0
          },
          "Combat": {
            "damage": 19.0,
            "defense": 5.0,
            "attackSpeed": 1.3,
            "critChance": 0.2,
            "critMultiplier": 2.5
          },
          "Team": {
            "id": "player",
            "isPlayer": true
          },
          "Skills": {
            "skill1": "backstab",
            "skill2": "",
            "skill3": "",
            "skill4": "",
            "skillPoints": 0.0
          },
          "Buffs": {
            "damageBonus": 0.0,
            "defenseBonus": 0.0,
            "hasteBonus": 0.0,
            "shieldAmount": 0.0,
            "regenAmount": 0.0
          },
          "HeroInfo": {
            "id": "rogue2",
            "description": "A poison specialist who weakens enemies over time. Applies deadly toxins that continue damaging after initial strikes.",
            "difficulty": "Hard",
            "role": "Melee DPS / DoT",
            "playstyle": "Apply poison effects and let damage over time do the work"
          },
          "HeroTemplate": {
            "isTemplate": true
          }
        }
      },
      {
        "id": 12,
        "components": {
          "Character": {
            "name": "Nightblade Kira",
            "class": "Rogue",
            "level": 1.0,
            "experience": 0.0,
            "experienceToLevel": 100.0
          },
          "Health": {
            "current": 90.0,
            "max": 90.0
          },
          "Mana": {
            "current": 50.0,
            "max": 50.0
          },
          "Stats": {
            "strength": 12.0,
            "dexterity": 16.0,
            "intelligence": 10.0,
            "constitution": 12.0,
            "wisdom": 10.0
          },
          "Combat": {
            "damage": 21.0,
            "defense": 7.0,
            "attackSpeed": 1.2,
            "critChance": 0.2,
            "critMultiplier": 2.5
          },
          "Team": {
            "id": "player",
            "isPlayer": true
          },
          "Skills": {
            "skill1": "backstab",
            "skill2": "",
            "skill3": "",
            "skill4": "",
            "skillPoints": 0.0
          },
          "Buffs": {
            "damageBonus": 0.0,
            "defenseBonus": 0.0,
            "hasteBonus": 0.0,
            "shieldAmount": 0.0,
            "regenAmount": 0.0
          },
          "HeroInfo": {
            "id": "rogue3",
            "description": "A versatile assassin with balanced stats. Reliable critical strikes and good survivability for a rogue.",
            "difficulty": "Easy",
            "role": "Melee DPS / Balanced",
            "playstyle": "Well-rounded assassin with good damage and survivability"
          },
          "HeroTemplate": {
            "isTemplate": true
          }
        }
      },
      {
        "id": 13,
        "components": {
          "Character": {
            "name": "Ghost",
            "class": "Rogue",
            "level": 1.0,
            "experience": 0.0,
            "experienceToLevel": 100.0
          },
          "Health": {
            "current": 65.0,
            "max": 65.0
          },
          "Mana": {
            "current": 45.0,
            "max": 45.0
          },
          "Stats": {
            "strength": 8.0,
            "dexterity": 20.0,
            "intelligence": 10.0,
            "constitution": 6.0,
            "wisdom": 8.0
          },
          "Combat": {
            "damage": 25.0,
            "defense": 4.0,
            "attackSpeed": 1.6,
            "critChance": 0.3,
            "critMultiplier": 2.5
          },
          "Team": {
            "id": "player",
            "isPlayer": true
          },
          "Skills": {
            "skill1": "backstab",
            "skill2": "",
            "skill3": "",
            "skill4": "",
            "skillPoints": 0.0
          },
          "Buffs": {
            "damageBonus": 0.0,
            "defenseBonus": 0.0,
            "hasteBonus": 0.0,
            "shieldAmount": 0.0,
            "regenAmount": 0.0
          },
          "HeroInfo": {
            "id": "rogue4",
            "description": "The ultimate glass cannon rogue. Unmatched attack speed and critical chance but extremely fragile.",
            "difficulty": "Hard",
            "role": "Melee DPS / Hyper Carry",
            "playstyle": "Lightning-fast attacks with maximum crit - dies if touched"
          },
          "HeroTemplate": {
            "isTemplate": true
          }
        }
      },
      {
        "id": 14,
        "components": {
          "Character": {
            "name": "Dagger Master Jin",
            "class": "Rogue",
            "level": 1.0,
            "experience": 0.0,
            "experienceToLevel": 100.0
          },
          "Health": {
            "current": 85.0,
            "max": 85.0
          },
          "Mana": {
            "current": 50.0,
            "max": 50.0
          },
          "Stats": {
            "strength": 14.0,
            "dexterity": 16.0,
            "intelligence": 10.0,
            "constitution": 10.0,
            "wisdom": 10.0
          },
          "Combat": {
            "damage": 26.0,
            "defense": 6.0,
            "attackSpeed": 1.0,
            "critChance": 0.2,
            "critMultiplier": 2.5
          },
          "Team": {
            "id": "player",
            "isPlayer": true
          },
          "Skills": {
            "skill1": "backstab",
            "skill2": "",
            "skill3": "",
            "skill4": "",
            "skillPoints": 0.0
          },
          "Buffs": {
            "damageBonus": 0.0,
            "defenseBonus": 0.0,
            "hasteBonus": 0.0,
            "shieldAmount": 0.0,
            "regenAmount": 0.0
          },
          "HeroInfo": {
            "id": "rogue5",
            "description": "A disciplined rogue who focuses on precision over speed. Higher damage per hit with controlled, tactical strikes.",
            "difficulty": "Medium",
            "role": "Melee DPS / Precision",
            "playstyle": "Slower but harder-hitting strikes with good positioning"
          },
          "HeroTemplate": {
            "isTemplate": true
          }
        }
      },
      {
        "id": 15,
        "components": {
          "Character": {
            "name": "Brother Aldric",
            "class": "Cleric",
            "level": 1.0,
            "experience": 0.0,
            "experienceToLevel": 100.0
          },
          "Health": {
            "current": 90.0,
            "max": 90.0
          },
          "Mana": {
            "current": 80.0,
            "max": 80.0
          },
          "Stats": {
            "strength": 10.0,
            "dexterity": 8.0,
            "intelligence": 12.0,
            "constitution": 12.0,
            "wisdom": 18.0
          },
          "Combat": {
            "damage": 12.0,
            "defense": 8.0,
            "attackSpeed": 0.7,
            "critChance": 0.05,
            "critMultiplier": 1.5
          },
          "Team": {
            "id": "player",
            "isPlayer": true
          },
          "Skills": {
            "skill1": "heal",
            "skill2": "",
            "skill3": "",
            "skill4": "",
            "skillPoints": 0.0
          },
          "Buffs": {
            "damageBonus": 0.0,
            "defenseBonus": 0.0,
            "hasteBonus": 0.0,
            "shieldAmount": 0.0,
            "regenAmount": 0.0
          },
          "HeroInfo": {
            "id": "cleric",
            "description": "A divine healer who supports allies with healing and protective magic. Keeps the party alive through the toughest battles.",
            "difficulty": "Easy",
            "role": "Healer / Support",
            "playstyle": "Keep allies alive with healing while contributing moderate damage"
          },
          "HeroTemplate": {
            "isTemplate": true
          }
        },
        "bound_functions": {
          "select_attack_target": {
            "params": [
              {
                "name": "character",
                "type": {
                  "type": "entity"
                }
              },
              {
                "name": "enemies",
                "type": {
                  "type": "list",
                  "element": {
                    "type": "entity"
                  }
                }
              }
            ],
            "return_type": {
              "type": "entity"
            },
            "body": {
              "type": "var",
              "name": "id"
            }
          },
          "select_combat_skill": {
            "params": [
              {
                "name": "character",
                "type": {
                  "type": "entity"
                }
              },
              {
                "name": "allies",
                "type": {
                  "type": "list",
                  "element": {
                    "type": "entity"
                  }
                }
              },
              {
                "name": "enemies",
                "type": {
                  "type": "list",
                  "element": {
                    "type": "entity"
                  }
                }
              }
            ],
            "return_type": {
              "type": "string"
            },
            "body": {
              "type": "literal",
              "value": "basic_attack"
            }
          },
          "select_skill_on_levelup": {
            "params": [
              {
                "name": "character",
                "type": {
                  "type": "entity"
                }
              },
              {
                "name": "currentLevel",
                "type": {
                  "type": "entity"
                }
              }
            ],
            "return_type": {
              "type": "string"
            },
            "body": {
              "type": "literal",
              "value": "heal"
            }
          }
        }
      },
      {
        "id": 16,
        "components": {
          "Character": {
            "name": "Sister Lumina",
            "class": "Cleric",
            "level": 1.0,
            "experience": 0.0,
            "experienceToLevel": 100.0
          },
          "Health": {
            "current": 85.0,
            "max": 85.0
          },
          "Mana": {
            "current": 100.0,
            "max": 100.0
          },
          "Stats": {
            "strength": 8.0,
            "dexterity": 8.0,
            "intelligence": 14.0,
            "constitution": 12.0,
            "wisdom": 20.0
          },
          "Combat": {
            "damage": 10.0,
            "defense": 7.0,
            "attackSpeed": 0.6,
            "critChance": 0.05,
            "critMultiplier": 1.5
          },
          "Team": {
            "id": "player",
            "isPlayer": true
          },
          "Skills": {
            "skill1": "heal",
            "skill2": "",
            "skill3": "",
            "skill4": "",
            "skillPoints": 0.0
          },
          "Buffs": {
            "damageBonus": 0.0,
            "defenseBonus": 0.0,
            "hasteBonus": 0.0,
            "shieldAmount": 0.0,
            "regenAmount": 0.0
          },
          "HeroInfo": {
            "id": "cleric2",
            "description": "A devoted healer who maximizes healing output. Best support in the game but minimal combat capability.",
            "difficulty": "Easy",
            "role": "Healer / Pure Support",
            "playstyle": "Maximum healing power - keep allies alive at all costs"
          },
          "HeroTemplate": {
            "isTemplate": true
          }
        }
      },
      {
        "id": 17,
        "components": {
          "Character": {
            "name": "Battle Priest Marcus",
            "class": "Cleric",
            "level": 1.0,
            "experience": 0.0,
            "experienceToLevel": 100.0
          },
          "Health": {
            "current": 100.0,
            "max": 100.0
          },
          "Mana": {
            "current": 70.0,
            "max": 70.0
          },
          "Stats": {
            "strength": 14.0,
            "dexterity": 10.0,
            "intelligence": 12.0,
            "constitution": 12.0,
            "wisdom": 14.0
          },
          "Combat": {
            "damage": 18.0,
            "defense": 8.0,
            "attackSpeed": 0.8,
            "critChance": 0.1,
            "critMultiplier": 1.5
          },
          "Team": {
            "id": "player",
            "isPlayer": true
          },
          "Skills": {
            "skill1": "heal",
            "skill2": "",
            "skill3": "",
            "skill4": "",
            "skillPoints": 0.0
          },
          "Buffs": {
            "damageBonus": 0.0,
            "defenseBonus": 0.0,
            "hasteBonus": 0.0,
            "shieldAmount": 0.0,
            "regenAmount": 0.0
          },
          "HeroInfo": {
            "id": "cleric3",
            "description": "A militant cleric who deals holy damage to enemies. Combines decent damage with moderate healing capabilities.",
            "difficulty": "Medium",
            "role": "Hybrid DPS / Support",
            "playstyle": "Balance between dealing holy damage and supporting allies"
          },
          "HeroTemplate": {
            "isTemplate": true
          }
        }
      },
      {
        "id": 18,
        "components": {
          "Character": {
            "name": "Shieldbearer Thora",
            "class": "Cleric",
            "level": 1.0,
            "experience": 0.0,
            "experienceToLevel": 100.0
          },
          "Health": {
            "current": 110.0,
            "max": 110.0
          },
          "Mana": {
            "current": 75.0,
            "max": 75.0
          },
          "Stats": {
            "strength": 12.0,
            "dexterity": 8.0,
            "intelligence": 10.0,
            "constitution": 16.0,
            "wisdom": 16.0
          },
          "Combat": {
            "damage": 11.0,
            "defense": 10.0,
            "attackSpeed": 0.7,
            "critChance": 0.05,
            "critMultiplier": 1.5
          },
          "Team": {
            "id": "player",
            "isPlayer": true
          },
          "Skills": {
            "skill1": "heal",
            "skill2": "",
            "skill3": "",
            "skill4": "",
            "skillPoints": 0.0
          },
          "Buffs": {
            "damageBonus": 0.0,
            "defenseBonus": 0.0,
            "hasteBonus": 0.0,
            "shieldAmount": 0.0,
            "regenAmount": 0.0
          },
          "HeroInfo": {
            "id": "cleric4",
            "description": "A defensive cleric who protects allies with shields and barriers. Focuses on damage prevention over healing.",
            "difficulty": "Medium",
            "role": "Tank / Support",
            "playstyle": "Prevent damage with shields while providing emergency healing"
          },
          "HeroTemplate": {
            "isTemplate": true
          }
        }
      },
      {
        "id": 19,
        "components": {
          "Character": {
            "name": "Prophet Celestia",
            "class": "Cleric",
            "level": 1.0,
            "experience": 0.0,
            "experienceToLevel": 100.0
          },
          "Health": {
            "current": 88.0,
            "max": 88.0
          },
          "Mana": {
            "current": 95.0,
            "max": 95.0
          },
          "Stats": {
            "strength": 8.0,
            "dexterity": 10.0,
            "intelligence": 16.0,
            "constitution": 10.0,
            "wisdom": 18.0
          },
          "Combat": {
            "damage": 12.0,
            "defense": 7.0,
            "attackSpeed": 0.7,
            "critChance": 0.05,
            "critMultiplier": 1.5
          },
          "Team": {
            "id": "player",
            "isPlayer": true
          },
          "Skills": {
            "skill1": "heal",
            "skill2": "",
            "skill3": "",
            "skill4": "",
            "skillPoints": 0.0
          },
          "Buffs": {
            "damageBonus": 0.0,
            "defenseBonus": 0.0,
            "hasteBonus": 0.0,
            "shieldAmount": 0.0,
            "regenAmount": 0.0
          },
          "HeroInfo": {
            "id": "cleric5",
            "description": "A mystic healer with powerful buffs and enhanced mana pool. Provides utility beyond just healing.",
            "difficulty": "Hard",
            "role": "Support / Buffer",
            "playstyle": "Enhance allies with buffs while maintaining healing support"
          },
          "HeroTemplate": {
            "isTemplate": true
          }
        }
      },
      {
        "id": 20,
        "components": {
          "Character": {
            "name": "Aria Swiftarrow",
            "class": "Ranger",
            "level": 1.0,
            "experience": 0.0,
            "experienceToLevel": 100.0
          },
          "Health": {
            "current": 85.0,
            "max": 85.0
          },
          "Mana": {
            "current": 60.0,
            "max": 60.0
          },
          "Stats": {
            "strength": 12.0,
            "dexterity": 16.0,
            "intelligence": 10.0,
            "constitution": 10.0,
            "wisdom": 12.0
          },
          "Combat": {
            "damage": 20.0,
            "defense": 5.0,
            "attackSpeed": 1.2,
            "critChance": 0.15,
            "critMultiplier": 2.0
          },
          "Team": {
            "id": "player",
            "isPlayer": true
          },
          "Skills": {
            "skill1": "aimed_shot",
            "skill2": "",
            "skill3": "",
            "skill4": "",
            "skillPoints": 0.0
          },
          "Buffs": {
            "damageBonus": 0.0,
            "defenseBonus": 0.0,
            "hasteBonus": 0.0,
            "shieldAmount": 0.0,
            "regenAmount": 0.0
          },
          "HeroInfo": {
            "id": "ranger",
            "description": "An expert marksman with deadly precision. Excels at dealing consistent damage from range with high critical strike chance.",
            "difficulty": "Medium",
            "role": "Ranged DPS / Single Target",
            "playstyle": "Maintain distance and deliver precise, high-damage attacks from range"
          },
          "HeroTemplate": {
            "isTemplate": true
          }
        }
      },
      {
        "id": 21,
        "components": {
          "Character": {
            "name": "Hunter Thornwood",
            "class": "Ranger",
            "level": 1.0,
            "experience": 0.0,
            "experienceToLevel": 100.0
          },
          "Health": {
            "current": 90.0,
            "max": 90.0
          },
          "Mana": {
            "current": 55.0,
            "max": 55.0
          },
          "Stats": {
            "strength": 14.0,
            "dexterity": 16.0,
            "intelligence": 8.0,
            "constitution": 12.0,
            "wisdom": 10.0
          },
          "Combat": {
            "damage": 22.0,
            "defense": 6.0,
            "attackSpeed": 1.1,
            "critChance": 0.15,
            "critMultiplier": 2.0
          },
          "Team": {
            "id": "player",
            "isPlayer": true
          },
          "Skills": {
            "skill1": "aimed_shot",
            "skill2": "",
            "skill3": "",
            "skill4": "",
            "skillPoints": 0.0
          },
          "Buffs": {
            "damageBonus": 0.0,
            "defenseBonus": 0.0,
            "hasteBonus": 0.0,
            "shieldAmount": 0.0,
            "regenAmount": 0.0
          },
          "HeroInfo": {
            "id": "ranger2",
            "description": "A wilderness ranger who excels at tracking and taking down single targets. Reliable sustained ranged damage.",
            "difficulty": "Easy",
            "role": "Ranged DPS / Sustained",
            "playstyle": "Consistent ranged damage with good survivability"
          },
          "HeroTemplate": {
            "isTemplate": true
          }
        }
      },
      {
        "id": 22,
        "components": {
          "Character": {
            "name": "Windrunner Lyra",
            "class": "Ranger",
            "level": 1.0,
            "experience": 0.0,
            "experienceToLevel": 100.0
          },
          "Health": {
            "current": 80.0,
            "max": 80.0
          },
          "Mana": {
            "current": 60.0,
            "max": 60.0
          },
          "Stats": {
            "strength": 10.0,
            "dexterity": 18.0,
            "intelligence": 10.0,
            "constitution": 10.0,
            "wisdom": 12.0
          },
          "Combat": {
            "damage": 18.0,
            "defense": 5.0,
            "attackSpeed": 1.5,
            "critChance": 0.15,
            "critMultiplier": 2.0
          },
          "Team": {
            "id": "player",
            "isPlayer": true
          },
          "Skills": {
            "skill1": "aimed_shot",
            "skill2": "",
            "skill3": "",
            "skill4": "",
            "skillPoints": 0.0
          },
          "Buffs": {
            "damageBonus": 0.0,
            "defenseBonus": 0.0,
            "hasteBonus": 0.0,
            "shieldAmount": 0.0,
            "regenAmount": 0.0
          },
          "HeroInfo": {
            "id": "ranger3",
            "description": "An agile ranger with the fastest attack speed. Lower damage per shot but overwhelming volume of arrows.",
            "difficulty": "Medium",
            "role": "Ranged DPS / Rapid Fire",
            "playstyle": "Rapid arrow volleys - death by a thousand cuts"
          },
          "HeroTemplate": {
            "isTemplate": true
          }
        }
      },
      {
        "id": 23,
        "components": {
          "Character": {
            "name": "Sniper Hawkeye",
            "class": "Ranger",
            "level": 1.0,
            "experience": 0.0,
            "experienceToLevel": 100.0
          },
          "Health": {
            "current": 82.0,
            "max": 82.0
          },
          "Mana": {
            "current": 65.0,
            "max": 65.0
          },
          "Stats": {
            "strength": 14.0,
            "dexterity": 16.0,
            "intelligence": 12.0,
            "constitution": 10.0,
            "wisdom": 14.0
          },
          "Combat": {
            "damage": 28.0,
            "defense": 5.0,
            "attackSpeed": 0.8,
            "critChance": 0.2,
            "critMultiplier": 2.5
          },
          "Team": {
            "id": "player",
            "isPlayer": true
          },
          "Skills": {
            "skill1": "aimed_shot",
            "skill2": "",
            "skill3": "",
            "skill4": "",
            "skillPoints": 0.0
          },
          "Buffs": {
            "damageBonus": 0.0,
            "defenseBonus": 0.0,
            "hasteBonus": 0.0,
            "shieldAmount": 0.0,
            "regenAmount": 0.0
          },
          "HeroInfo": {
            "id": "ranger4",
            "description": "A patient marksman who waits for the perfect shot. Slow but extremely powerful attacks with high crit damage.",
            "difficulty": "Medium",
            "role": "Ranged DPS / Burst",
            "playstyle": "Devastating single shots - each arrow is a kill shot"
          },
          "HeroTemplate": {
            "isTemplate": true
          }
        }
      },
      {
        "id": 24,
        "components": {
          "Character": {
            "name": "Beastmaster Renn",
            "class": "Ranger",
            "level": 1.0,
            "experience": 0.0,
            "experienceToLevel": 100.0
          },
          "Health": {
            "current": 92.0,
            "max": 92.0
          },
          "Mana": {
            "current": 70.0,
            "max": 70.0
          },
          "Stats": {
            "strength": 12.0,
            "dexterity": 14.0,
            "intelligence": 12.0,
            "constitution": 12.0,
            "wisdom": 14.0
          },
          "Combat": {
            "damage": 19.0,
            "defense": 6.0,
            "attackSpeed": 1.0,
            "critChance": 0.15,
            "critMultiplier": 2.0
          },
          "Team": {
            "id": "player",
            "isPlayer": true
          },
          "Skills": {
            "skill1": "aimed_shot",
            "skill2": "",
            "skill3": "",
            "skill4": "",
            "skillPoints": 0.0
          },
          "Buffs": {
            "damageBonus": 0.0,
            "defenseBonus": 0.0,
            "hasteBonus": 0.0,
            "shieldAmount": 0.0,
            "regenAmount": 0.0
          },
          "HeroInfo": {
            "id": "ranger5",
            "description": "A ranger who commands nature's fury. Balanced stats with good survivability and utility.",
            "difficulty": "Easy",
            "role": "Ranged DPS / Utility",
            "playstyle": "Well-rounded ranger with pet support and good versatility"
          },
          "HeroTemplate": {
            "isTemplate": true
          }
        }
      },
      {
        "id": 25,
        "components": {
          "Character": {
            "name": "Dame Lightbringer",
            "class": "Paladin",
            "level": 1.0,
            "experience": 0.0,
            "experienceToLevel": 100.0
          },
          "Health": {
            "current": 110.0,
            "max": 110.0
          },
          "Mana": {
            "current": 70.0,
            "max": 70.0
          },
          "Stats": {
            "strength": 14.0,
            "dexterity": 10.0,
            "intelligence": 10.0,
            "constitution": 14.0,
            "wisdom": 12.0
          },
          "Combat": {
            "damage": 16.0,
            "defense": 9.0,
            "attackSpeed": 0.9,
            "critChance": 0.1,
            "critMultiplier": 1.5
          },
          "Team": {
            "id": "player",
            "isPlayer": true
          },
          "Skills": {
            "skill1": "divine_strike",
            "skill2": "",
            "skill3": "",
            "skill4": "",
            "skillPoints": 0.0
          },
          "Buffs": {
            "damageBonus": 0.0,
            "defenseBonus": 0.0,
            "hasteBonus": 0.0,
            "shieldAmount": 0.0,
            "regenAmount": 0.0
          },
          "HeroInfo": {
            "id": "paladin",
            "description": "A holy warrior who balances offense and defense. Can heal allies while dealing respectable damage to enemies.",
            "difficulty": "Easy",
            "role": "Hybrid Tank / Support",
            "playstyle": "Balance between dealing damage, tanking, and supporting allies"
          },
          "HeroTemplate": {
            "isTemplate": true
          }
        }
      },
      {
        "id": 26,
        "components": {
          "Character": {
            "name": "Justicar Voran",
            "class": "Paladin",
            "level": 1.0,
            "experience": 0.0,
            "experienceToLevel": 100.0
          },
          "Health": {
            "current": 115.0,
            "max": 115.0
          },
          "Mana": {
            "current": 65.0,
            "max": 65.0
          },
          "Stats": {
            "strength": 16.0,
            "dexterity": 10.0,
            "intelligence": 8.0,
            "constitution": 14.0,
            "wisdom": 12.0
          },
          "Combat": {
            "damage": 20.0,
            "defense": 9.0,
            "attackSpeed": 0.9,
            "critChance": 0.1,
            "critMultiplier": 1.5
          },
          "Team": {
            "id": "player",
            "isPlayer": true
          },
          "Skills": {
            "skill1": "divine_strike",
            "skill2": "",
            "skill3": "",
            "skill4": "",
            "skillPoints": 0.0
          },
          "Buffs": {
            "damageBonus": 0.0,
            "defenseBonus": 0.0,
            "hasteBonus": 0.0,
            "shieldAmount": 0.0,
            "regenAmount": 0.0
          },
          "HeroInfo": {
            "id": "paladin2",
            "description": "A righteous paladin focused on dealing holy damage to evil. Strong offense with divine protection.",
            "difficulty": "Easy",
            "role": "Melee DPS / Tank",
            "playstyle": "Holy warrior dealing bonus damage to undead and demons"
          },
          "HeroTemplate": {
            "isTemplate": true
          }
        }
      },
      {
        "id": 27,
        "components": {
          "Character": {
            "name": "Guardian Solas",
            "class": "Paladin",
            "level": 1.0,
            "experience": 0.0,
            "experienceToLevel": 100.0
          },
          "Health": {
            "current": 125.0,
            "max": 125.0
          },
          "Mana": {
            "current": 70.0,
            "max": 70.0
          },
          "Stats": {
            "strength": 12.0,
            "dexterity": 8.0,
            "intelligence": 10.0,
            "constitution": 16.0,
            "wisdom": 14.0
          },
          "Combat": {
            "damage": 14.0,
            "defense": 11.0,
            "attackSpeed": 0.8,
            "critChance": 0.1,
            "critMultiplier": 1.5
          },
          "Team": {
            "id": "player",
            "isPlayer": true
          },
          "Skills": {
            "skill1": "divine_strike",
            "skill2": "",
            "skill3": "",
            "skill4": "",
            "skillPoints": 0.0
          },
          "Buffs": {
            "damageBonus": 0.0,
            "defenseBonus": 0.0,
            "hasteBonus": 0.0,
            "shieldAmount": 0.0,
            "regenAmount": 0.0
          },
          "HeroInfo": {
            "id": "paladin3",
            "description": "A protective paladin who shields allies from harm. Highest defense among paladins with area protection.",
            "difficulty": "Easy",
            "role": "Tank / Protector",
            "playstyle": "Maximum protection - intercept attacks meant for allies"
          },
          "HeroTemplate": {
            "isTemplate": true
          }
        }
      },
      {
        "id": 28,
        "components": {
          "Character": {
            "name": "Zealot Pyra",
            "class": "Paladin",
            "level": 1.0,
            "experience": 0.0,
            "experienceToLevel": 100.0
          },
          "Health": {
            "current": 105.0,
            "max": 105.0
          },
          "Mana": {
            "current": 60.0,
            "max": 60.0
          },
          "Stats": {
            "strength": 16.0,
            "dexterity": 12.0,
            "intelligence": 8.0,
            "constitution": 12.0,
            "wisdom": 12.0
          },
          "Combat": {
            "damage": 22.0,
            "defense": 7.0,
            "attackSpeed": 1.0,
            "critChance": 0.15,
            "critMultiplier": 1.5
          },
          "Team": {
            "id": "player",
            "isPlayer": true
          },
          "Skills": {
            "skill1": "divine_strike",
            "skill2": "",
            "skill3": "",
            "skill4": "",
            "skillPoints": 0.0
          },
          "Buffs": {
            "damageBonus": 0.0,
            "defenseBonus": 0.0,
            "hasteBonus": 0.0,
            "shieldAmount": 0.0,
            "regenAmount": 0.0
          },
          "HeroInfo": {
            "id": "paladin4",
            "description": "A fervent holy warrior who sacrifices defense for righteous fury. High damage output with moderate tankiness.",
            "difficulty": "Medium",
            "role": "Melee DPS / Bruiser",
            "playstyle": "Aggressive holy warrior - offense is the best defense"
          },
          "HeroTemplate": {
            "isTemplate": true
          }
        }
      },
      {
        "id": 29,
        "components": {
          "Character": {
            "name": "Templar Aegis",
            "class": "Paladin",
            "level": 1.0,
            "experience": 0.0,
            "experienceToLevel": 100.0
          },
          "Health": {
            "current": 112.0,
            "max": 112.0
          },
          "Mana": {
            "current": 75.0,
            "max": 75.0
          },
          "Stats": {
            "strength": 14.0,
            "dexterity": 12.0,
            "intelligence": 12.0,
            "constitution": 14.0,
            "wisdom": 14.0
          },
          "Combat": {
            "damage": 17.0,
            "defense": 9.0,
            "attackSpeed": 0.9,
            "critChance": 0.1,
            "critMultiplier": 1.5
          },
          "Team": {
            "id": "player",
            "isPlayer": true
          },
          "Skills": {
            "skill1": "divine_strike",
            "skill2": "",
            "skill3": "",
            "skill4": "",
            "skillPoints": 0.0
          },
          "Buffs": {
            "damageBonus": 0.0,
            "defenseBonus": 0.0,
            "hasteBonus": 0.0,
            "shieldAmount": 0.0,
            "regenAmount": 0.0
          },
          "HeroInfo": {
            "id": "paladin5",
            "description": "A veteran templar with decades of experience. Perfectly balanced stats make them effective in any situation.",
            "difficulty": "Easy",
            "role": "Hybrid / Versatile",
            "playstyle": "Jack of all trades - adapts to any party composition"
          },
          "HeroTemplate": {
            "isTemplate": true
          }
        }
      },
      {
        "id": 30,
        "variable": "goblin_scout",
        "components": {
          "Character": {
            "name": "Goblin Scout",
            "class": "Monster",
            "level": 1.0,
            "experience": 0.0,
            "experienceToLevel": 999.0
          },
          "Health": {
            "current": 60.0,
            "max": 60.0
          },
          "Mana": {
            "current": 0.0,
            "max": 0.0
          },
          "Stats": {
            "strength": 8.0,
            "dexterity": 12.0,
            "intelligence": 4.0,
            "constitution": 8.0,
            "wisdom": 4.0
          },
          "Combat": {
            "damage": 8.0,
            "defense": 2.0,
            "attackSpeed": 1.0,
            "critChance": 0.05,
            "critMultiplier": 1.5
          },
          "Target": {
            "entity": null
          },
          "Team": {
            "id": "enemy",
            "isPlayer": false
          },
          "Enemy": {
            "tier": 1.0,
            "isBoss": false,
            "expReward": 25.0,
            "wave": 1.0
          },
          "EnemyTemplate": {
            "isTemplate": true
          },
          "Buffs": {
            "damageBonus": 0.0,
            "defenseBonus": 0.0,
            "hasteBonus": 0.0,
            "shieldAmount": 0.0,
            "regenAmount": 0.0
          }
        }
      },
      {
        "id": 31,
        "variable": "orc_raider",
        "components": {
          "Character": {
            "name": "Orc Raider",
            "class": "Monster",
            "level": 2.0,
            "experience": 0.0,
            "experienceToLevel": 999.0
          },
          "Health": {
            "current": 90.0,
            "max": 90.0
          },
          "Mana": {
            "current": 0.0,
            "max": 0.0
          },
          "Stats": {
            "strength": 12.0,
            "dexterity": 8.0,
            "intelligence": 4.0,
            "constitution": 12.0,
            "wisdom": 4.0
          },
          "Combat": {
            "damage": 12.0,
            "defense": 4.0,
            "attackSpeed": 0.8,
            "critChance": 0.05,
            "critMultiplier": 1.5
          },
          "Target": {
            "entity": null
          },
          "Team": {
            "id": "enemy",
            "isPlayer": false
          },
          "Enemy": {
            "tier": 2.0,
            "isBoss": false,
            "expReward": 35.0,
            "wave": 2.0
          },
          "EnemyTemplate": {
            "isTemplate": true
          },
          "Buffs": {
            "damageBonus": 0.0,
            "defenseBonus": 0.0,
            "hasteBonus": 0.0,
            "shieldAmount": 0.0,
            "regenAmount": 0.0
          }
        }
      },
      {
        "id": 32,
        "variable": "dark_wolf",
        "components": {
          "Character": {
            "name": "Dark Wolf",
            "class": "Monster",
            "level": 2.0,
            "experience": 0.0,
            "experienceToLevel": 999.0
          },
          "Health": {
            "current": 75.0,
            "max": 75.0
          },
          "Mana": {
            "current": 0.0,
            "max": 0.0
          },
          "Stats": {
            "strength": 10.0,
            "dexterity": 16.0,
            "intelligence": 4.0,
            "constitution": 8.0,
            "wisdom": 6.0
          },
          "Combat": {
            "damage": 14.0,
            "defense": 3.0,
            "attackSpeed": 1.2,
            "critChance": 0.1,
            "critMultiplier": 1.5
          },
          "Target": {
            "entity": null
          },
          "Team": {
            "id": "enemy",
            "isPlayer": false
          },
          "Enemy": {
            "tier": 2.0,
            "isBoss": false,
            "expReward": 40.0,
            "wave": 2.0
          },
          "EnemyTemplate": {
            "isTemplate": true
          },
          "Buffs": {
            "damageBonus": 0.0,
            "defenseBonus": 0.0,
            "hasteBonus": 0.0,
            "shieldAmount": 0.0,
            "regenAmount": 0.0
          }
        }
      },
      {
        "id": 33,
        "variable": "skeleton_warrior",
        "components": {
          "Character": {
            "name": "Skeleton Warrior",
            "class": "Monster",
            "level": 3.0,
            "experience": 0.0,
            "experienceToLevel": 999.0
          },
          "Health": {
            "current": 110.0,
            "max": 110.0
          },
          "Mana": {
            "current": 0.0,
            "max": 0.0
          },
          "Stats": {
            "strength": 14.0,
            "dexterity": 10.0,
            "intelligence": 4.0,
            "constitution": 12.0,
            "wisdom": 4.0
          },
          "Combat": {
            "damage": 16.0,
            "defense": 6.0,
            "attackSpeed": 0.7,
            "critChance": 0.1,
            "critMultiplier": 1.5
          },
          "Target": {
            "entity": null
          },
          "Team": {
            "id": "enemy",
            "isPlayer": false
          },
          "Enemy": {
            "tier": 3.0,
            "isBoss": false,
            "expReward": 50.0,
            "wave": 3.0
          },
          "EnemyTemplate": {
            "isTemplate": true
          },
          "Buffs": {
            "damageBonus": 0.0,
            "defenseBonus": 0.0,
            "hasteBonus": 0.0,
            "shieldAmount": 0.0,
            "regenAmount": 0.0
          }
        }
      },
      {
        "id": 34,
        "variable": "dark_mage",
        "components": {
          "Character": {
            "name": "Dark Mage",
            "class": "Monster",
            "level": 5.0,
            "experience": 0.0,
            "experienceToLevel": 999.0
          },
          "Health": {
            "current": 80.0,
            "max": 80.0
          },
          "Mana": {
            "current": 100.0,
            "max": 100.0
          },
          "Stats": {
            "strength": 6.0,
            "dexterity": 10.0,
            "intelligence": 16.0,
            "constitution": 8.0,
            "wisdom": 12.0
          },
          "Combat": {
            "damage": 22.0,
            "defense": 4.0,
            "attackSpeed": 0.5,
            "critChance": 0.15,
            "critMultiplier": 2.0
          },
          "Target": {
            "entity": null
          },
          "Team": {
            "id": "enemy",
            "isPlayer": false
          },
          "Enemy": {
            "tier": 3.0,
            "isBoss": false,
            "expReward": 75.0,
            "wave": 3.0
          },
          "EnemyTemplate": {
            "isTemplate": true
          },
          "Buffs": {
            "damageBonus": 0.0,
            "defenseBonus": 0.0,
            "hasteBonus": 0.0,
            "shieldAmount": 0.0,
            "regenAmount": 0.0
          }
        }
      },
      {
        "id": 35,
        "variable": "troll_berserker",
        "components": {
          "Character": {
            "name": "Troll Berserker",
            "class": "Monster",
            "level": 7.0,
            "experience": 0.0,
            "experienceToLevel": 999.0
          },
          "Health": {
            "current": 180.0,
            "max": 180.0
          },
          "Mana": {
            "current": 0.0,
            "max": 0.0
          },
          "Stats": {
            "strength": 18.0,
            "dexterity": 8.0,
            "intelligence": 4.0,
            "constitution": 18.0,
            "wisdom": 4.0
          },
          "Combat": {
            "damage": 22.0,
            "defense": 8.0,
            "attackSpeed": 0.6,
            "critChance": 0.15,
            "critMultiplier": 1.5
          },
          "Target": {
            "entity": null
          },
          "Team": {
            "id": "enemy",
            "isPlayer": false
          },
          "Enemy": {
            "tier": 4.0,
            "isBoss": false,
            "expReward": 80.0,
            "wave": 4.0
          },
          "EnemyTemplate": {
            "isTemplate": true
          },
          "Buffs": {
            "damageBonus": 0.0,
            "defenseBonus": 0.0,
            "hasteBonus": 0.0,
            "shieldAmount": 0.0,
            "regenAmount": 0.0
          }
        }
      },
      {
        "id": 36,
        "variable": "demon_knight",
        "components": {
          "Character": {
            "name": "Demon Knight",
            "class": "Monster",
            "level": 8.0,
            "experience": 0.0,
            "experienceToLevel": 999.0
          },
          "Health": {
            "current": 250.0,
            "max": 250.0
          },
          "Mana": {
            "current": 50.0,
            "max": 50.0
          },
          "Stats": {
            "strength": 18.0,
            "dexterity": 12.0,
            "intelligence": 10.0,
            "constitution": 16.0,
            "wisdom": 8.0
          },
          "Combat": {
            "damage": 30.0,
            "defense": 10.0,
            "attackSpeed": 0.7,
            "critChance": 0.15,
            "critMultiplier": 2.0
          },
          "Target": {
            "entity": null
          },
          "Team": {
            "id": "enemy",
            "isPlayer": false
          },
          "Enemy": {
            "tier": 5.0,
            "isBoss": false,
            "expReward": 150.0,
            "wave": 5.0
          },
          "EnemyTemplate": {
            "isTemplate": true
          },
          "Buffs": {
            "damageBonus": 0.0,
            "defenseBonus": 0.0,
            "hasteBonus": 0.0,
            "shieldAmount": 0.0,
            "regenAmount": 0.0
          }
        }
      },
      {
        "id": 37,
        "variable": "ancient_dragon",
        "components": {
          "Character": {
            "name": "Ancient Dragon",
            "class": "Boss",
            "level": 10.0,
            "experience": 0.0,
            "experienceToLevel": 999.0
          },
          "Health": {
            "current": 400.0,
            "max": 400.0
          },
          "Mana": {
            "current": 150.0,
            "max": 150.0
          },
          "Stats": {
            "strength": 22.0,
            "dexterity": 14.0,
            "intelligence": 16.0,
            "constitution": 22.0,
            "wisdom": 14.0
          },
          "Combat": {
            "damage": 40.0,
            "defense": 12.0,
            "attackSpeed": 0.8,
            "critChance": 0.2,
            "critMultiplier": 2.0
          },
          "Target": {
            "entity": null
          },
          "Team": {
            "id": "enemy",
            "isPlayer": false
          },
          "Enemy": {
            "tier": 6.0,
            "isBoss": true,
            "expReward": 300.0,
            "wave": 6.0
          },
          "EnemyTemplate": {
            "isTemplate": true
          },
          "Buffs": {
            "damageBonus": 0.0,
            "defenseBonus": 0.0,
            "hasteBonus": 0.0,
            "shieldAmount": 0.0,
            "regenAmount": 0.0
          }
        }
      },
      {
        "id": 38,
        "variable": "dragon_lord_vexar",
        "components": {
          "Character": {
            "name": "Dragon Lord Vexar",
            "class": "Boss",
            "level": 10.0,
            "experience": 0.0,
            "experienceToLevel": 999.0
          },
          "Health": {
            "current": 500.0,
            "max": 500.0
          },
          "Mana": {
            "current": 200.0,
            "max": 200.0
          },
          "Stats": {
            "strength": 25.0,
            "dexterity": 15.0,
            "intelligence": 20.0,
            "constitution": 25.0,
            "wisdom": 15.0
          },
          "Combat": {
            "damage": 40.0,
            "defense": 15.0,
            "attackSpeed": 0.8,
            "critChance": 0.2,
            "critMultiplier": 2.5
          },
          "Target": {
            "entity": null
          },
          "Team": {
            "id": "enemy",
            "isPlayer": false
          },
          "Enemy": {
            "tier": 6.0,
            "isBoss": true,
            "expReward": 500.0,
            "wave": 6.0,
            "name": "Lord Vexar"
          },
          "EnemyTemplate": {
            "isTemplate": true
          },
          "FinalBoss": {
            "isFinalBoss": true
          },
          "Buffs": {
            "damageBonus": 0.0,
            "defenseBonus": 0.0,
            "hasteBonus": 0.0,
            "shieldAmount": 0.0,
            "regenAmount": 0.0
          }
        }
      },
      {
        "id": 39,
        "variable": "game_state",
        "components": {
          "GameState": {
            "currentWave": 1.0,
            "enemiesDefeated": 0.0,
            "playerDeaths": 0.0,
            "bossDefeated": false,
            "gameOver": false,
            "victory": false,
            "retargetingActive": false,
            "currentTier": 1.0,
            "waveInTier": 1.0,
            "bossSpawned": false
          },
          "SpawnConfig": {
            "bossEveryKills": 100.0,
            "tierProgressionKills": 50.0,
            "maxTier": 6.0,
            "wavesPerTier": 300.0,
            "healthScaleRate": 200.0,
            "damageScaleRate": 300.0,
            "initialEnemyCount": 5.0
          }
        }
      },
      {
        "id": 40,
        "variable": "run_stats",
        "components": {
          "RunStats": {
            "simulationTime": 0.0,
            "retreatCount": 0.0,
            "retreatPenalty": 0.0,
            "deathPenalty": 0.0,
            "totalTime": 0.0,
            "canFlee": true,
            "lastFleeTime": null
          }
        }
      },
      {
        "id": 41,
        "variable": "flee_config",
        "components": {
          "FleeConfig": {
            "retreatTimePenalty": 10.0,
            "deathTimePenaltyMultiplier": 5.0,
            "fleeCooldown": 5.0
          }
        }
      },
      {
        "id": 42,
        "variable": "enemy_compendium",
        "components": {
          "EnemyCompendium": {
            "entries": null
          }
        }
      }
    ]
  },
  "choice_points": [
    {
      "id": "select_attack_target",
      "name": "Select Attack Target",
      "signature": "choice fn select_attack_target(character: id, enemies: list<id>): id",
      "params": [
        {
          "name": "character",
          "type": {
            "type": "entity"
          }
        },
        {
          "name": "enemies",
          "type": {
            "type": "list",
            "element": {
              "type": "entity"
            }
          }
        }
      ],
      "return_type": {
        "type": "entity"
      },
      "category": "targeting",
      "applicable_classes": [
        "Warrior"
      ]
    },
    {
      "id": "select_combat_skill",
      "name": "Select Combat Skill",
      "signature": "choice fn select_combat_skill(character: id, allies: list<id>, enemies: list<id>): string",
      "params": [
        {
          "name": "character",
          "type": {
            "type": "entity"
          }
        },
        {
          "name": "allies",
          "type": {
            "type": "list",
            "element": {
              "type": "entity"
            }
          }
        },
        {
          "name": "enemies",
          "type": {
            "type": "list",
            "element": {
              "type": "entity"
            }
          }
        }
      ],
      "return_type": {
        "type": "string"
      },
      "category": "skills",
      "applicable_classes": [
        "Warrior"
      ]
    },
    {
      "id": "select_skill_on_levelup",
      "name": "Select Skill On Levelup",
      "signature": "choice fn select_skill_on_levelup(character: id, currentLevel: id): string",
      "params": [
        {
          "name": "character",
          "type": {
            "type": "entity"
          }
        },
        {
          "name": "currentLevel",
          "type": {
            "type": "entity"
          }
        }
      ],
      "return_type": {
        "type": "string"
      },
      "category": "skills",
      "applicable_classes": [
        "Warrior"
      ]
    }
  ],
  "source_map": {
    "files": [
      {
        "path": "../../game/brl/classic-rpg.brl",
        "content": "// Classic RPG System\n// A comprehensive RPG with traditional classes, skill trees, and boss battles\n\n// Character information with class and level progression\ncomponent Character {\n    name: string\n    class: string\n    level: integer\n    experience: integer\n    experienceToLevel: integer\n}\n\n// Health component\ncomponent Health {\n    current: integer\n    max: integer\n}\n\n// Mana component for spell casting\ncomponent Mana {\n    current: integer\n    max: integer\n}\n\n// Character stats\ncomponent Stats {\n    strength: integer\n    dexterity: integer\n    intelligence: integer\n    constitution: integer\n    wisdom: integer\n}\n\n// Combat stats\ncomponent Combat {\n    damage: integer\n    defense: integer\n    attackSpeed: float\n    critChance: float\n    critMultiplier: float\n}\n\n// Current attack target\ncomponent Target {\n    entity: id?\n}\n\n// Team affiliation\ncomponent Team {\n    id: string\n    isPlayer: boolean\n}\n\n// Enemy information\ncomponent Enemy {\n    tier: integer\n    isBoss: boolean\n    expReward: integer\n    wave: integer\n    name: string\n}\n\n// Marks an entity as an enemy template (not a spawned enemy)\ncomponent EnemyTemplate {\n    isTemplate: boolean\n}\n\n// Marks an entity as the final boss\ncomponent FinalBoss {\n    isFinalBoss: boolean\n}\n\n// Holds references to all enemy templates / entries in the game\n// Holds references to all enemy templates / entries in the game\ncomponent EnemyCompendium {\n    entries: list<id>\n}\n\n// Character skills\ncomponent Skills {\n    skill1: string\n    skill2: string\n    skill3: string\n    skill4: string\n    skillPoints: integer\n}\n\n// Active buffs\ncomponent Buffs {\n    damageBonus: integer\n    defenseBonus: integer\n    hasteBonus: float\n    shieldAmount: integer\n    regenAmount: integer\n}\n\n// Game state tracking\ncomponent GameState {\n    currentWave: integer\n    enemiesDefeated: integer\n    playerDeaths: integer\n    bossDefeated: boolean\n    gameOver: boolean\n    victory: boolean\n    retargetingActive: boolean\n    currentTier: integer\n    waveInTier: integer\n    bossSpawned: boolean\n}\n\n// Run tracking for leaderboard\ncomponent RunStats {\n    simulationTime: float\n    retreatCount: integer\n    retreatPenalty: float\n    deathPenalty: float\n    totalTime: float\n    canFlee: boolean\n    lastFleeTime: float\n}\n\n// Flee constants (defined as component for easy tuning)\ncomponent FleeConfig {\n    retreatTimePenalty: float      // 10 seconds\n    deathTimePenaltyMultiplier: float  // 5x = 50 seconds\n    fleeCooldown: float            // 5 seconds between flees\n}\n\n// Skill cooldown tracking\ncomponent SkillCooldown {\n    skill1Cooldown: float\n    skill2Cooldown: float\n    skill3Cooldown: float\n    skill4Cooldown: float\n}\n\n// Choice context for player decisions\ncomponent ChoiceContext {\n    pendingChoice: string\n    options: string\n    chosen: string\n}\n\n// Hero information for party selection UI (used by BDL)\ncomponent HeroInfo {\n    id: string\n    description: string\n    difficulty: string\n    role: string\n    playstyle: string\n}\n\n// Marks an entity as a hero template (not a spawned hero)\ncomponent HeroTemplate {\n    isTemplate: boolean\n}\n\n// Spawn configuration (used by BDL)\ncomponent SpawnConfig {\n    bossEveryKills: integer\n    tierProgressionKills: integer\n    maxTier: integer\n    wavesPerTier: integer\n    healthScaleRate: integer\n    damageScaleRate: integer\n    initialEnemyCount: integer\n}\n\n// Scenario information for scenario selection UI (used by BDL)\ncomponent ScenarioInfo {\n    id: string\n    name: string\n    description: string\n    difficulty: string\n    respawnTime: string\n    deathPenalty: string\n    enemiesPerWave: string\n    bossFrequency: string\n}\n\n// Helper function to calculate damage\nfn calculate_damage(base: float, bonus: float): float {\n    return base + bonus\n}\n\n// Helper function to calculate experience for level\nfn calculate_exp_for_level(level: float): float {\n    return 100 * level\n}\n\n// ============================================================================\n// GAME INITIALIZATION RULES\n// ============================================================================\n\n// Rule 1: Start hero attacks when game begins\nrule initialize_hero_attacks on GameStart {\n    if entity.Team.isPlayer && entity.Health.current > 0 {\n        // Stagger attacks by 0.1s per hero to avoid perfect synchronization\n        let stagger = 0.1 * entity.id\n        schedule [delay: stagger] DoAttack {\n            source: entity.id\n        }\n    }\n}\n\n// Rule 2: Start retargeting system when game begins\nrule start_retargeting_system on GameStart {\n    if entity.GameState {\n        if entity.GameState.retargetingActive == false {\n            entity.GameState.retargetingActive = true\n            // Schedule first retargeting check in 2 seconds\n            schedule [delay: 2.0] CheckAllTargets {\n            }\n        }\n    }\n}\n\n// Rule 3: Spawn initial enemies when game begins\nrule spawn_initial_enemies on GameStart {\n    if entity.SpawnConfig {\n        let count = entity.SpawnConfig.initialEnemyCount\n        // Initialize tiered wave tracking\n        entity.GameState.currentTier = 1\n        entity.GameState.waveInTier = 1\n        entity.GameState.currentWave = 1\n        entity.GameState.bossSpawned = false\n\n        // Spawn initial wave enemies (spread by small delays)\n        // Note: Array size should match entity.SpawnConfig.initialEnemyCount\n        let indices = [0, 1, 2, 3, 4]\n        for i in indices {\n            schedule [delay: 0.05 * (i + 1)] SpawnEnemy {\n                tier: 1\n            }\n        }\n\n        // Notify that the first wave spawned\n        schedule [delay: 0.3] EnemySpawned {\n            wave: 1\n        }\n    }\n}\n\n// Handle a wave starting: spawn its enemies and schedule the next wave\nrule handle_enemy_spawned on EnemySpawned {\n    if entity.GameState && entity.SpawnConfig {\n        // Determine current tier and wave index\n        let tier = entity.GameState.currentTier\n        let waveIndex = entity.GameState.waveInTier\n        let count = entity.SpawnConfig.initialEnemyCount\n\n        // Spawn enemies for this wave\n        // Note: Array size should match entity.SpawnConfig.initialEnemyCount\n        let indices = [0, 1, 2, 3, 4]\n        for i in indices {\n            schedule [delay: 0.05 * (i + 1)] SpawnEnemy {\n                tier: tier\n            }\n        }\n\n        // If this is the final tier, spawn the named final boss once\n        if tier == entity.SpawnConfig.maxTier {\n            if entity.GameState.bossSpawned == false {\n                schedule [delay: 1.0] SpawnLordVexar {\n                }\n                entity.GameState.bossSpawned = true\n            }\n            // Do not schedule further waves after boss spawn\n            return\n        }\n\n        // Schedule the next wave: advance waveInTier/tier counters\n        let nextWaveIndex = waveIndex + 1\n        if nextWaveIndex > entity.SpawnConfig.wavesPerTier {\n            entity.GameState.currentTier = tier + 1\n            entity.GameState.waveInTier = 1\n        } else {\n            entity.GameState.waveInTier = nextWaveIndex\n        }\n        entity.GameState.currentWave += 1\n\n        // Schedule next EnemySpawned event for the next wave\n        schedule [delay: 2.0] EnemySpawned {\n            wave: entity.GameState.currentWave\n        }\n    }\n}\n\n// ============================================================================\n// ENEMY SPAWNING RULES\n// ============================================================================\n\n// Spawn a single enemy by cloning a template\nrule spawn_enemy_from_template on SpawnEnemy {\n    // Find enemy templates matching the requested tier\n    let templates = entities having EnemyTemplate\n\n    // Try to find a template matching the requested tier (fallback to first)\n    let templateId = templates[0]\n    for t in templates {\n        if t.Enemy.tier == event.tier {\n            templateId = t\n        }\n    }\n\n    // Clone the selected template and mark it as not a template\n    let newEnemy = clone templateId {\n        EnemyTemplate {\n            isTemplate: false\n        }\n    }\n    \n    // Target will be assigned by the retargeting system\n    // Set to null initially so retargeting finds a valid player\n    newEnemy.Target.entity = null\n    \n    // Schedule the enemy's first attack\n    schedule [delay: 0.1] DoAttack {\n        source: newEnemy\n    }\n}\n\n// Spawn the final boss (Dragon Lord Vexar) once\nrule spawn_lord_vexar on SpawnLordVexar {\n    // Find the final boss template using FinalBoss component\n    let templates = entities having FinalBoss\n    let bossTemplate = templates[0]\n    \n    // Clone the boss template\n    let newBoss = clone bossTemplate {\n        EnemyTemplate {\n            isTemplate: false\n        }\n    }\n\n    // Target will be assigned by the retargeting system\n    newBoss.Target.entity = null\n    schedule [delay: 0.5] DoAttack {\n        source: newBoss\n    }\n}\n\n// ============================================================================\n// COMBAT RULES\n// ============================================================================\n\n// Main attack rule: apply damage and schedule next attack\nrule attack_rule on DoAttack {\n    if entity.Target.entity != null && entity.Health.current > 0 {\n        let target = entity.Target.entity\n        let damage = entity.Combat.damage + entity.Buffs.damageBonus\n        \n        // Apply damage to target\n        target.Health.current -= damage\n        \n        // Emit after attack event\n        schedule AfterAttack {\n            attacker: entity.id\n            target: target.id\n        }\n        \n        // Schedule next attack\n        let delay = 1 / (entity.Combat.attackSpeed + entity.Buffs.hasteBonus)\n        schedule [delay: delay] DoAttack {\n            source: entity.id\n        }\n    }\n}\n\n// Death check: emit Death event when health drops to zero\nrule death_check on AfterAttack {\n    if entity.Health.current <= 0 {\n        schedule Death {\n            target: entity.id\n        }\n    }\n}\n\n// Enemy death handler\nrule enemy_death_handler on Death {\n    if entity.Enemy.tier > 0 && entity.Health.current <= 0 {\n        schedule EnemyDefeated {\n            enemy: entity.id\n            expReward: entity.Enemy.expReward\n            isBoss: entity.Enemy.isBoss\n        }\n    }\n}\n\n// Player death handler\nrule player_death_handler on Death {\n    if entity.Team.isPlayer && entity.Health.current <= 0 {\n        schedule PlayerDefeated {\n            player: entity.id\n        }\n    }\n}\n\n// When a player is defeated, schedule a respawn after 120 seconds\nrule respawn_on_player_defeated on PlayerDefeated {\n    // Schedule respawn for the dead player after 120s\n    schedule [delay: 120.0] RespawnPlayer {\n        player: event.player\n    }\n}\n\n// Restore player state when the RespawnPlayer event fires\nrule respawn_player on RespawnPlayer {\n    let p = event.player\n    // Restore health and mana\n    if p.Health {\n        p.Health.current = p.Health.max\n    }\n    if p.Mana {\n        p.Mana.current = p.Mana.max\n    }\n    // Clear temporary buffs that should not persist through death\n    if p.Buffs {\n        p.Buffs.shieldAmount = 0\n        p.Buffs.regenAmount = 0\n        p.Buffs.damageBonus = 0\n        p.Buffs.defenseBonus = 0\n        p.Buffs.hasteBonus = 0.0\n    }\n    // Allow fleeing again and reset any run-state flags as appropriate\n    if p.RunStats {\n        p.RunStats.canFlee = true\n    }\n}\n\n// Grant experience to players when enemy defeated\n// This rule fires once for the GameState entity to avoid granting XP multiple times\nrule grant_experience on EnemyDefeated {\n    if entity.GameState {\n        // Find all player entities and grant them XP\n        let players = entities having Team\n        for player in players {\n            if player.Team.isPlayer {\n                player.Character.experience += 50\n                schedule CheckLevelUp {\n                    source: player.id\n                }\n            }\n        }\n    }\n}\n\n// Level up check\nrule level_up_check on CheckLevelUp {\n    if entity.Character.experience >= entity.Character.experienceToLevel {\n        entity.Character.level += 1\n        entity.Character.experience -= entity.Character.experienceToLevel\n        entity.Character.experienceToLevel *= 1.5\n        entity.Skills.skillPoints += 1\n        \n        schedule LevelUp {\n            source: entity.id\n        }\n        \n        schedule SkillChoice {\n            source: entity.id\n        }\n    }\n}\n\n// Level up stat increases\nrule level_up_stats on LevelUp {\n    entity.Health.max += 10\n    entity.Health.current += 10\n    entity.Combat.damage += 2\n    entity.Combat.defense += 1\n}\n\n// Track enemy defeats and check victory\nrule boss_defeated_victory on EnemyDefeated {\n    if entity.GameState {\n        entity.GameState.enemiesDefeated += 1\n        // If this was the named final boss, finish the run with victory.\n        if event.isBoss {\n            let defeated = event.enemy\n            if defeated.Enemy.name == \"Lord Vexar\" {\n                entity.GameState.bossDefeated = true\n                entity.GameState.victory = true\n                entity.GameState.gameOver = true\n                schedule GameOver {\n                    victory: true\n                }\n            }\n        }\n    }\n}\n\n// Spawn a replacement enemy when one is defeated\nrule spawn_replacement_enemy on EnemyDefeated {\n    if entity.GameState {\n        if entity.GameState.enemiesDefeated < 1000 && entity.GameState.gameOver == false && entity.GameState.bossSpawned == false {\n            // Spawn enemy from current tier to maintain combat\n            let currentTier = entity.GameState.currentTier\n            schedule [delay: 0.1] SpawnEnemy {\n                tier: currentTier\n            }\n        }\n    }\n}\n\n// Power strike skill\nrule use_skill_power_strike on UseSkill {\n    if entity.Skills.skill1 == \"power_strike\" {\n        entity.Buffs.damageBonus += 5\n    }\n}\n\n// Fireball skill\nrule use_skill_fireball on UseSkill {\n    if entity.Skills.skill1 == \"fireball\" && entity.Mana.current >= 20 {\n        entity.Mana.current -= 20\n        entity.Buffs.damageBonus += 15\n    }\n}\n\n// Heal skill\nrule use_skill_heal on UseSkill {\n    if entity.Skills.skill1 == \"heal\" && entity.Mana.current >= 15 {\n        entity.Mana.current -= 15\n        entity.Health.current += 30\n    }\n}\n\n// Backstab skill\nrule use_skill_backstab on UseSkill {\n    if entity.Skills.skill1 == \"backstab\" {\n        entity.Combat.critChance += 0.25\n    }\n}\n\n// Mana regeneration\nrule mana_regen on ManaRegen {\n    if entity.Health.current > 0 {\n        entity.Mana.current += 5\n        schedule [delay: 2] ManaRegen {\n            source: entity.id\n        }\n    }\n}\n\n// Spawn next enemy wave - REMOVED\n// Wave spawning is now handled by handle_enemy_spawned rule which uses tiered progression\n\n// Count player deaths\nrule count_player_death on PlayerDefeated {\n    if entity.GameState {\n        entity.GameState.playerDeaths += 1\n    }\n}\n\n// Apply death penalty to run stats\nrule apply_death_penalty on PlayerDefeated {\n    if entity.RunStats && entity.FleeConfig {\n        entity.RunStats.deathPenalty += entity.FleeConfig.retreatTimePenalty * entity.FleeConfig.deathTimePenaltyMultiplier\n        entity.RunStats.totalTime = entity.RunStats.simulationTime + entity.RunStats.retreatPenalty + entity.RunStats.deathPenalty\n        schedule UpdateRunStats {\n        }\n    }\n}\n\n// Game over on all players dead\n// NOTE: Removed automatic game-over when all players die. The game\n// now continues (players will respawn) and only finishes when the\n// final boss (Lord Vexar) is defeated.\n\n// Victory check - REMOVED\n// Victory is now only achieved by defeating Lord Vexar (handled in boss_defeated_victory rule)\n// The game continues even if all heroes die - they respawn after 120 seconds\n\n// Acquire skill\nrule acquire_skill on AcquireSkill {\n    if entity.Skills.skillPoints > 0 {\n        entity.Skills.skillPoints -= 1\n        schedule SkillAcquired {\n            character: entity.id\n        }\n    }\n}\n\n// Flee from battle - player initiates retreat\nrule flee_battle on FleeFromBattle {\n    if entity.RunStats && entity.FleeConfig {\n        // Check cooldown\n        let timeSinceFlee = entity.RunStats.simulationTime - entity.RunStats.lastFleeTime\n        if timeSinceFlee >= entity.FleeConfig.fleeCooldown {\n            // Apply retreat penalty\n            entity.RunStats.retreatCount += 1\n            entity.RunStats.retreatPenalty += entity.FleeConfig.retreatTimePenalty\n            entity.RunStats.lastFleeTime = entity.RunStats.simulationTime\n            entity.RunStats.canFlee = false\n            entity.RunStats.totalTime = entity.RunStats.simulationTime + entity.RunStats.retreatPenalty + entity.RunStats.deathPenalty\n            \n            // Mark all enemies for despawn\n            schedule DespawnAllEnemies {\n            }\n            \n            // Spawn new wave after retreat\n            schedule [delay: 0.5] SpawnEnemyWave {\n            }\n            \n            schedule UpdateRunStats {\n            }\n        }\n    }\n}\n\n// Despawn all enemies on flee\nrule despawn_enemies on DespawnAllEnemies {\n    if entity.Enemy.tier > 0 {\n        // Remove enemy entity (handled by engine)\n        entity.Health.current = 0\n        schedule RemoveEntity {\n            target: entity.id\n        }\n    }\n}\n\n// Update flee cooldown timer\nrule update_flee_cooldown on UpdateRunStats {\n    if entity.RunStats && entity.FleeConfig {\n        let timeSinceFlee = entity.RunStats.simulationTime - entity.RunStats.lastFleeTime\n        if timeSinceFlee >= entity.FleeConfig.fleeCooldown {\n            entity.RunStats.canFlee = true\n        }\n    }\n}\n\n// Complete run and save to leaderboard\nrule complete_run on GameOver {\n    if entity.RunStats && entity.GameState {\n        schedule SaveRunToLeaderboard {\n            completionTime: entity.RunStats.totalTime\n            enemiesDefeated: entity.GameState.enemiesDefeated\n            playerDeaths: entity.GameState.playerDeaths\n            retreats: entity.RunStats.retreatCount\n            retreatPenalty: entity.RunStats.retreatPenalty\n            deathPenalty: entity.RunStats.deathPenalty\n            victory: entity.GameState.victory\n        }\n    }\n}\n\n// Start global recurring retargeting when game begins\nrule start_global_retargeting on EnemySpawned {\n    // Only start retargeting once, when first enemy spawns\n    if entity.GameState {\n        if entity.GameState.currentWave == 1 && entity.GameState.retargetingActive == false {\n            entity.GameState.retargetingActive = true\n            // Schedule first retargeting check in 2 seconds\n            schedule [delay: 2.0] CheckAllTargets {\n            }\n        }\n    }\n}\n\n// Check if entity needs retargeting\nrule check_entity_target on CheckAllTargets {\n    // Rule fires for each entity with Target and Health components\n    if entity.Health.current > 0 {\n        let target = entity.Target.entity\n        // If no target or target is dead, find a new one\n        if target == null || target.Health.current <= 0 {\n            schedule FindNewTarget {\n                seeker: entity.id\n            }\n        }\n    }\n}\n\n// Reschedule the next retargeting check (makes it recurring)\n// REQUIRES: An entity with GameState component must exist in the game\n// This rule only fires for the GameState entity to ensure single reschedule\nrule reschedule_retargeting on CheckAllTargets {\n    // Only fire for entity with GameState component\n    if entity.GameState {\n        if entity.GameState.retargetingActive && entity.GameState.gameOver == false {\n            // Schedule next check in 2 seconds\n            schedule [delay: 2.0] CheckAllTargets {\n            }\n        }\n    }\n}\n\n// ============================================================================\n// TARGET ASSIGNMENT RULES\n// ============================================================================\n\n// Find and assign a new target for an entity\nrule find_new_target on FindNewTarget {\n    let seeker = event.seeker\n    \n    // This is a simplified implementation since BRL doesn't yet support\n    // advanced entity queries. The UI will still handle initial target assignment\n    // but this rule ensures targets are reassigned when they die.\n    \n    // Clear the target - the UI-side retargeting will handle finding a new target\n    // Do not schedule a DoAttack here - it will be scheduled once a valid target is assigned\n    seeker.Target.entity = null\n}\n",
        "language": "brl"
      },
      {
        "path": "../../game/bdl/heroes.bdl",
        "content": "// =============================================================================\n// BLINK IDLE RPG - Hero Definitions\n// =============================================================================\n// This file contains all playable hero character definitions for the game.\n// Each hero has stats, skills, and role information for the party selection UI.\n// =============================================================================\n\n// -----------------------------------------------------------------------------\n// WARRIORS - Melee fighters with high health and defense\n// -----------------------------------------------------------------------------\n\nentity {\n    Character {\n        name: \"Sir Braveheart\"\n        class: \"Warrior\"\n        level: 1\n        experience: 0\n        experienceToLevel: 100\n    }\n    Health {\n        current: 120\n        max: 120\n    }\n    Mana {\n        current: 30\n        max: 30\n    }\n    Stats {\n        strength: 16\n        dexterity: 10\n        intelligence: 8\n        constitution: 14\n        wisdom: 8\n    }\n    Combat {\n        damage: 18\n        defense: 10\n        attackSpeed: 0.8\n        critChance: 0.1\n        critMultiplier: 1.5\n    }\n    Team {\n        id: \"player\"\n        isPlayer: true\n    }\n    Skills {\n        skill1: \"power_strike\"\n        skill2: \"\"\n        skill3: \"\"\n        skill4: \"\"\n        skillPoints: 0\n    }\n    Buffs {\n        damageBonus: 0\n        defenseBonus: 0\n        hasteBonus: 0\n        shieldAmount: 0\n        regenAmount: 0\n    }\n    HeroInfo {\n        id: \"warrior\"\n        description: \"A stalwart defender with unmatched strength. Wields heavy armor and weapons, protecting allies while dealing devastating melee damage.\"\n        difficulty: \"Easy\"\n        role: \"Tank / Melee DPS\"\n        playstyle: \"Get in close and deal consistent damage while absorbing enemy attacks\"\n    }\n    HeroTemplate {\n        isTemplate: true\n    }\n    \n    // Bound choice functions for Warrior behavior\n    .select_attack_target = choice(character: Character, enemies: list): id {\n        let target = enemies[0]\n        let highestDamage = 0\n        for enemy in enemies {\n            if enemy.Combat.damage > highestDamage {\n                target = enemy\n                highestDamage = enemy.Combat.damage\n            }\n        }\n        return target.id\n    }\n    \n    .select_combat_skill = choice(character: Character & Skills & Health & Combat, allies: list, enemies: list): string {\n        let hp_pct = character.Health.current / character.Health.max\n        if hp_pct < 0.25 {\n            if character.Skills.skill3 == \"defensive_stance\" {\n                return \"defensive_stance\"\n            }\n            if character.Skills.skill2 == \"shield_bash\" {\n                return \"shield_bash\"\n            }\n        }\n        if character.Skills.skill4 != \"\" {\n            for enemy in enemies {\n                let enemy_hp_pct = enemy.Health.current / enemy.Health.max\n                if enemy_hp_pct < 0.2 {\n                    return \"execute\"\n                }\n            }\n        }\n        if enemies.count >= 2 {\n            if character.Skills.skill3 == \"cleave\" {\n                return \"cleave\"\n            }\n        }\n        if character.Skills.skill1 == \"power_strike\" {\n            return \"power_strike\"\n        }\n        return \"basic_attack\"\n    }\n    \n    .select_skill_on_levelup = choice(character: Character & Skills, currentLevel: number): string {\n        if currentLevel == 2 {\n            return \"power_strike\"\n        }\n        if currentLevel == 3 {\n            return \"shield_bash\"\n        }\n        if currentLevel == 4 {\n            return \"defensive_stance\"\n        }\n        if currentLevel == 5 {\n            return \"cleave\"\n        }\n        if currentLevel == 6 {\n            return \"battle_cry\"\n        }\n        if currentLevel >= 7 {\n            return \"execute\"\n        }\n        return \"power_strike\"\n    }\n}\n\nentity {\n    Character {\n        name: \"Gorak the Unbreakable\"\n        class: \"Warrior\"\n        level: 1\n        experience: 0\n        experienceToLevel: 100\n    }\n    Health {\n        current: 140\n        max: 140\n    }\n    Mana {\n        current: 20\n        max: 20\n    }\n    Stats {\n        strength: 14\n        dexterity: 8\n        intelligence: 6\n        constitution: 18\n        wisdom: 10\n    }\n    Combat {\n        damage: 15\n        defense: 12\n        attackSpeed: 0.7\n        critChance: 0.05\n        critMultiplier: 1.5\n    }\n    Team {\n        id: \"player\"\n        isPlayer: true\n    }\n    Skills {\n        skill1: \"power_strike\"\n        skill2: \"\"\n        skill3: \"\"\n        skill4: \"\"\n        skillPoints: 0\n    }\n    Buffs {\n        damageBonus: 0\n        defenseBonus: 0\n        hasteBonus: 0\n        shieldAmount: 0\n        regenAmount: 0\n    }\n    HeroInfo {\n        id: \"warrior2\"\n        description: \"A veteran warrior forged in countless battles. Specializes in defensive tactics and outlasting enemies through superior endurance.\"\n        difficulty: \"Easy\"\n        role: \"Tank / Defensive\"\n        playstyle: \"Extreme durability and defense, absorbs massive amounts of damage\"\n    }\n    HeroTemplate {\n        isTemplate: true\n    }\n    \n    // Bound choice functions for Warrior behavior\n    .select_attack_target = choice(character: Character, enemies: list): id {\n        let target = enemies[0]\n        let highestDamage = 0\n        for enemy in enemies {\n            if enemy.Combat.damage > highestDamage {\n                target = enemy\n                highestDamage = enemy.Combat.damage\n            }\n        }\n        return target.id\n    }\n    \n    .select_combat_skill = choice(character: Character & Skills & Health & Combat, allies: list, enemies: list): string {\n        let hp_pct = character.Health.current / character.Health.max\n        if hp_pct < 0.25 {\n            if character.Skills.skill3 == \"defensive_stance\" {\n                return \"defensive_stance\"\n            }\n            if character.Skills.skill2 == \"shield_bash\" {\n                return \"shield_bash\"\n            }\n        }\n        if character.Skills.skill4 != \"\" {\n            for enemy in enemies {\n                let enemy_hp_pct = enemy.Health.current / enemy.Health.max\n                if enemy_hp_pct < 0.2 {\n                    return \"execute\"\n                }\n            }\n        }\n        if enemies.count >= 2 {\n            if character.Skills.skill3 == \"cleave\" {\n                return \"cleave\"\n            }\n        }\n        if character.Skills.skill1 == \"power_strike\" {\n            return \"power_strike\"\n        }\n        return \"basic_attack\"\n    }\n    \n    .select_skill_on_levelup = choice(character: Character & Skills, currentLevel: number): string {\n        if currentLevel == 2 {\n            return \"power_strike\"\n        }\n        if currentLevel == 3 {\n            return \"shield_bash\"\n        }\n        if currentLevel == 4 {\n            return \"defensive_stance\"\n        }\n        if currentLevel == 5 {\n            return \"cleave\"\n        }\n        if currentLevel == 6 {\n            return \"battle_cry\"\n        }\n        if currentLevel >= 7 {\n            return \"execute\"\n        }\n        return \"power_strike\"\n    }\n}\n\nentity {\n    Character {\n        name: \"Valkyrie Stormblade\"\n        class: \"Warrior\"\n        level: 1\n        experience: 0\n        experienceToLevel: 100\n    }\n    Health {\n        current: 105\n        max: 105\n    }\n    Mana {\n        current: 35\n        max: 35\n    }\n    Stats {\n        strength: 15\n        dexterity: 14\n        intelligence: 8\n        constitution: 12\n        wisdom: 8\n    }\n    Combat {\n        damage: 20\n        defense: 8\n        attackSpeed: 1.0\n        critChance: 0.1\n        critMultiplier: 1.5\n    }\n    Team {\n        id: \"player\"\n        isPlayer: true\n    }\n    Skills {\n        skill1: \"power_strike\"\n        skill2: \"\"\n        skill3: \"\"\n        skill4: \"\"\n        skillPoints: 0\n    }\n    Buffs {\n        damageBonus: 0\n        defenseBonus: 0\n        hasteBonus: 0\n        shieldAmount: 0\n        regenAmount: 0\n    }\n    HeroInfo {\n        id: \"warrior3\"\n        description: \"A fierce warrior who values speed over raw defense. Delivers rapid strikes with medium armor for balanced offense and defense.\"\n        difficulty: \"Medium\"\n        role: \"Melee DPS / Bruiser\"\n        playstyle: \"Fast-paced melee combat with balanced offense and defense\"\n    }\n    HeroTemplate {\n        isTemplate: true\n    }\n}\n\nentity {\n    Character {\n        name: \"Titan Ironheart\"\n        class: \"Warrior\"\n        level: 1\n        experience: 0\n        experienceToLevel: 100\n    }\n    Health {\n        current: 130\n        max: 130\n    }\n    Mana {\n        current: 25\n        max: 25\n    }\n    Stats {\n        strength: 20\n        dexterity: 6\n        intelligence: 6\n        constitution: 16\n        wisdom: 8\n    }\n    Combat {\n        damage: 28\n        defense: 11\n        attackSpeed: 0.5\n        critChance: 0.1\n        critMultiplier: 1.5\n    }\n    Team {\n        id: \"player\"\n        isPlayer: true\n    }\n    Skills {\n        skill1: \"power_strike\"\n        skill2: \"\"\n        skill3: \"\"\n        skill4: \"\"\n        skillPoints: 0\n    }\n    Buffs {\n        damageBonus: 0\n        defenseBonus: 0\n        hasteBonus: 0\n        shieldAmount: 0\n        regenAmount: 0\n    }\n    HeroInfo {\n        id: \"warrior4\"\n        description: \"A colossal warrior wielding a massive two-handed weapon. Trades speed for overwhelming power with each strike.\"\n        difficulty: \"Easy\"\n        role: \"Heavy DPS / Tank\"\n        playstyle: \"Devastating slow attacks that hit extremely hard\"\n    }\n    HeroTemplate {\n        isTemplate: true\n    }\n}\n\nentity {\n    Character {\n        name: \"Bladestorm\"\n        class: \"Warrior\"\n        level: 1\n        experience: 0\n        experienceToLevel: 100\n    }\n    Health {\n        current: 95\n        max: 95\n    }\n    Mana {\n        current: 30\n        max: 30\n    }\n    Stats {\n        strength: 16\n        dexterity: 16\n        intelligence: 6\n        constitution: 10\n        wisdom: 8\n    }\n    Combat {\n        damage: 24\n        defense: 6\n        attackSpeed: 1.3\n        critChance: 0.15\n        critMultiplier: 1.5\n    }\n    Team {\n        id: \"player\"\n        isPlayer: true\n    }\n    Skills {\n        skill1: \"power_strike\"\n        skill2: \"\"\n        skill3: \"\"\n        skill4: \"\"\n        skillPoints: 0\n    }\n    Buffs {\n        damageBonus: 0\n        defenseBonus: 0\n        hasteBonus: 0\n        shieldAmount: 0\n        regenAmount: 0\n    }\n    HeroInfo {\n        id: \"warrior5\"\n        description: \"A dual-wielding warrior who sacrifices defense for rapid, relentless assault. Glass cannon melee fighter with high risk, high reward.\"\n        difficulty: \"Hard\"\n        role: \"Melee DPS / Glass Cannon\"\n        playstyle: \"Extremely aggressive high-speed melee with low survivability\"\n    }\n    HeroTemplate {\n        isTemplate: true\n    }\n}\n\n// -----------------------------------------------------------------------------\n// MAGES - Ranged spell casters with high damage but low health\n// -----------------------------------------------------------------------------\n\nentity {\n    Character {\n        name: \"Elara Flamecaster\"\n        class: \"Mage\"\n        level: 1\n        experience: 0\n        experienceToLevel: 100\n    }\n    Health {\n        current: 70\n        max: 70\n    }\n    Mana {\n        current: 100\n        max: 100\n    }\n    Stats {\n        strength: 6\n        dexterity: 12\n        intelligence: 18\n        constitution: 8\n        wisdom: 14\n    }\n    Combat {\n        damage: 25\n        defense: 4\n        attackSpeed: 0.6\n        critChance: 0.1\n        critMultiplier: 2.0\n    }\n    Team {\n        id: \"player\"\n        isPlayer: true\n    }\n    Skills {\n        skill1: \"fireball\"\n        skill2: \"\"\n        skill3: \"\"\n        skill4: \"\"\n        skillPoints: 0\n    }\n    Buffs {\n        damageBonus: 0\n        defenseBonus: 0\n        hasteBonus: 0\n        shieldAmount: 0\n        regenAmount: 0\n    }\n    HeroInfo {\n        id: \"mage\"\n        description: \"A master of elemental magic who rains destruction from afar. High damage output but fragile - positioning and mana management are key.\"\n        difficulty: \"Medium\"\n        role: \"Ranged DPS / AoE\"\n        playstyle: \"Maximize spell damage while managing mana and staying out of danger\"\n    }\n    HeroTemplate {\n        isTemplate: true\n    }\n    \n    // Bound choice functions for Mage behavior\n    .select_attack_target = choice(character: Character, enemies: list): id {\n        let target = enemies[0]\n        let lowestHealth = 999999\n        for enemy in enemies {\n            if enemy.Health.current < lowestHealth {\n                target = enemy\n                lowestHealth = enemy.Health.current\n            }\n        }\n        return target.id\n    }\n    \n    .select_combat_skill = choice(character: Character & Skills & Health & Mana & Combat, allies: list, enemies: list): string {\n        let hp_pct = character.Health.current / character.Health.max\n        let mana_pct = character.Mana.current / character.Mana.max\n        if hp_pct < 0.3 && mana_pct > 0.5 {\n            if character.Skills.skill3 == \"mana_shield\" {\n                return \"mana_shield\"\n            }\n        }\n        if enemies.count >= 2 && character.Mana.current >= 80 {\n            if character.Skills.skill4 == \"meteor\" {\n                return \"meteor\"\n            }\n        }\n        if enemies.count >= 2 && character.Mana.current >= 40 {\n            if character.Skills.skill3 == \"blizzard\" {\n                return \"blizzard\"\n            }\n        }\n        if mana_pct > 0.6 {\n            if character.Mana.current >= 50 && character.Skills.skill3 == \"pyroblast\" {\n                return \"pyroblast\"\n            }\n            if character.Mana.current >= 20 && character.Skills.skill1 == \"fireball\" {\n                return \"fireball\"\n            }\n        }\n        if mana_pct > 0.3 && character.Mana.current >= 15 {\n            if character.Skills.skill2 == \"ice_shard\" {\n                return \"ice_shard\"\n            }\n        }\n        if character.Mana.current >= 10 && character.Skills.skill2 == \"arcane_missiles\" {\n            return \"arcane_missiles\"\n        }\n        return \"basic_attack\"\n    }\n    \n    .select_skill_on_levelup = choice(character: Character & Skills, currentLevel: number): string {\n        if currentLevel == 2 {\n            return \"fireball\"\n        }\n        if currentLevel == 3 {\n            return \"ice_shard\"\n        }\n        if currentLevel == 4 {\n            return \"arcane_missiles\"\n        }\n        if currentLevel == 5 {\n            return \"blizzard\"\n        }\n        if currentLevel == 6 {\n            return \"mana_shield\"\n        }\n        if currentLevel >= 7 {\n            return \"meteor\"\n        }\n        return \"fireball\"\n    }\n}\n\nentity {\n    Character {\n        name: \"Zephyr the Archmage\"\n        class: \"Mage\"\n        level: 1\n        experience: 0\n        experienceToLevel: 100\n    }\n    Health {\n        current: 65\n        max: 65\n    }\n    Mana {\n        current: 120\n        max: 120\n    }\n    Stats {\n        strength: 4\n        dexterity: 10\n        intelligence: 20\n        constitution: 6\n        wisdom: 16\n    }\n    Combat {\n        damage: 30\n        defense: 3\n        attackSpeed: 0.5\n        critChance: 0.15\n        critMultiplier: 2.0\n    }\n    Team {\n        id: \"player\"\n        isPlayer: true\n    }\n    Skills {\n        skill1: \"fireball\"\n        skill2: \"\"\n        skill3: \"\"\n        skill4: \"\"\n        skillPoints: 0\n    }\n    Buffs {\n        damageBonus: 0\n        defenseBonus: 0\n        hasteBonus: 0\n        shieldAmount: 0\n        regenAmount: 0\n    }\n    HeroInfo {\n        id: \"mage2\"\n        description: \"A brilliant arcane scholar who prioritizes raw magical power. Highest damage potential but requires careful mana management.\"\n        difficulty: \"Hard\"\n        role: \"Ranged DPS / Burst\"\n        playstyle: \"Maximum spell power with lowest survivability - nuclear glass cannon\"\n    }\n    HeroTemplate {\n        isTemplate: true\n    }\n}\n\nentity {\n    Character {\n        name: \"Frost Weaver Selene\"\n        class: \"Mage\"\n        level: 1\n        experience: 0\n        experienceToLevel: 100\n    }\n    Health {\n        current: 80\n        max: 80\n    }\n    Mana {\n        current: 90\n        max: 90\n    }\n    Stats {\n        strength: 6\n        dexterity: 10\n        intelligence: 16\n        constitution: 10\n        wisdom: 14\n    }\n    Combat {\n        damage: 22\n        defense: 6\n        attackSpeed: 0.7\n        critChance: 0.1\n        critMultiplier: 2.0\n    }\n    Team {\n        id: \"player\"\n        isPlayer: true\n    }\n    Skills {\n        skill1: \"fireball\"\n        skill2: \"\"\n        skill3: \"\"\n        skill4: \"\"\n        skillPoints: 0\n    }\n    Buffs {\n        damageBonus: 0\n        defenseBonus: 0\n        hasteBonus: 0\n        shieldAmount: 0\n        regenAmount: 0\n    }\n    HeroInfo {\n        id: \"mage3\"\n        description: \"A frost mage who balances damage with survivability. Ice shields provide extra protection while slowing enemies.\"\n        difficulty: \"Medium\"\n        role: \"Ranged DPS / Control\"\n        playstyle: \"Balanced caster with defensive capabilities and crowd control\"\n    }\n    HeroTemplate {\n        isTemplate: true\n    }\n}\n\nentity {\n    Character {\n        name: \"Lightning Caller Volt\"\n        class: \"Mage\"\n        level: 1\n        experience: 0\n        experienceToLevel: 100\n    }\n    Health {\n        current: 72\n        max: 72\n    }\n    Mana {\n        current: 95\n        max: 95\n    }\n    Stats {\n        strength: 6\n        dexterity: 14\n        intelligence: 17\n        constitution: 8\n        wisdom: 12\n    }\n    Combat {\n        damage: 20\n        defense: 4\n        attackSpeed: 0.9\n        critChance: 0.1\n        critMultiplier: 2.0\n    }\n    Team {\n        id: \"player\"\n        isPlayer: true\n    }\n    Skills {\n        skill1: \"fireball\"\n        skill2: \"\"\n        skill3: \"\"\n        skill4: \"\"\n        skillPoints: 0\n    }\n    Buffs {\n        damageBonus: 0\n        defenseBonus: 0\n        hasteBonus: 0\n        shieldAmount: 0\n        regenAmount: 0\n    }\n    HeroInfo {\n        id: \"mage4\"\n        description: \"A storm mage specializing in quick-casting lightning spells. Fast casting speed with moderate damage per hit.\"\n        difficulty: \"Medium\"\n        role: \"Ranged DPS / Sustained\"\n        playstyle: \"Rapid-fire spell casting for consistent damage output\"\n    }\n    HeroTemplate {\n        isTemplate: true\n    }\n}\n\nentity {\n    Character {\n        name: \"Sage Emberwick\"\n        class: \"Mage\"\n        level: 1\n        experience: 0\n        experienceToLevel: 100\n    }\n    Health {\n        current: 75\n        max: 75\n    }\n    Mana {\n        current: 110\n        max: 110\n    }\n    Stats {\n        strength: 6\n        dexterity: 12\n        intelligence: 16\n        constitution: 9\n        wisdom: 18\n    }\n    Combat {\n        damage: 23\n        defense: 5\n        attackSpeed: 0.6\n        critChance: 0.1\n        critMultiplier: 2.0\n    }\n    Team {\n        id: \"player\"\n        isPlayer: true\n    }\n    Skills {\n        skill1: \"fireball\"\n        skill2: \"\"\n        skill3: \"\"\n        skill4: \"\"\n        skillPoints: 0\n    }\n    Buffs {\n        damageBonus: 0\n        defenseBonus: 0\n        hasteBonus: 0\n        shieldAmount: 0\n        regenAmount: 0\n    }\n    HeroInfo {\n        id: \"mage5\"\n        description: \"A scholarly mage focused on mana efficiency and long-term sustainability. Lower burst but never runs out of mana.\"\n        difficulty: \"Easy\"\n        role: \"Ranged DPS / Sustain\"\n        playstyle: \"Efficient spell usage with excellent mana regeneration\"\n    }\n    HeroTemplate {\n        isTemplate: true\n    }\n}\n\n// -----------------------------------------------------------------------------\n// ROGUES - Fast melee attackers with high crit chance\n// -----------------------------------------------------------------------------\n\nentity {\n    Character {\n        name: \"Shadow\"\n        class: \"Rogue\"\n        level: 1\n        experience: 0\n        experienceToLevel: 100\n    }\n    Health {\n        current: 80\n        max: 80\n    }\n    Mana {\n        current: 50\n        max: 50\n    }\n    Stats {\n        strength: 10\n        dexterity: 18\n        intelligence: 10\n        constitution: 10\n        wisdom: 8\n    }\n    Combat {\n        damage: 22\n        defense: 6\n        attackSpeed: 1.4\n        critChance: 0.25\n        critMultiplier: 2.5\n    }\n    Team {\n        id: \"player\"\n        isPlayer: true\n    }\n    Skills {\n        skill1: \"backstab\"\n        skill2: \"\"\n        skill3: \"\"\n        skill4: \"\"\n        skillPoints: 0\n    }\n    Buffs {\n        damageBonus: 0\n        defenseBonus: 0\n        hasteBonus: 0\n        shieldAmount: 0\n        regenAmount: 0\n    }\n    HeroInfo {\n        id: \"rogue\"\n        description: \"Swift and deadly, striking from the shadows. Relies on critical hits and burst damage to eliminate high-priority targets quickly.\"\n        difficulty: \"Medium\"\n        role: \"Melee DPS / Assassin\"\n        playstyle: \"Focus on eliminating priority targets with high burst damage and crits\"\n    }\n    HeroTemplate {\n        isTemplate: true\n    }\n    \n    // Bound choice functions for Rogue behavior\n    .select_attack_target = choice(character: Character, enemies: list): id {\n        let target = enemies[0]\n        let highestPriority = 0\n        for enemy in enemies {\n            let priority = 0\n            if enemy.Combat.defense < 5 {\n                priority = priority + 50\n            }\n            priority = priority + enemy.Combat.damage\n            let hp_pct = enemy.Health.current / enemy.Health.max\n            if hp_pct < 0.3 {\n                priority = priority + 100\n            }\n            if priority > highestPriority {\n                target = enemy\n                highestPriority = priority\n            }\n        }\n        return target.id\n    }\n    \n    .select_combat_skill = choice(character: Character & Skills & Health & Combat, allies: list, enemies: list): string {\n        let hp_pct = character.Health.current / character.Health.max\n        if hp_pct < 0.25 {\n            if character.Skills.skill3 == \"evasion\" {\n                return \"evasion\"\n            }\n            if character.Skills.skill4 == \"smoke_bomb\" {\n                return \"smoke_bomb\"\n            }\n        }\n        if character.Skills.skill4 == \"assassinate\" {\n            for enemy in enemies {\n                let enemy_hp_pct = enemy.Health.current / enemy.Health.max\n                if enemy_hp_pct < 0.15 {\n                    return \"assassinate\"\n                }\n            }\n        }\n        if enemies.count >= 3 {\n            if character.Skills.skill4 == \"blade_flurry\" {\n                return \"blade_flurry\"\n            }\n            if character.Skills.skill3 == \"fan_of_knives\" {\n                return \"fan_of_knives\"\n            }\n        }\n        if enemies.count == 1 {\n            if character.Skills.skill3 == \"shadowstep\" {\n                return \"shadowstep\"\n            }\n        }\n        if character.Skills.skill1 == \"backstab\" {\n            return \"backstab\"\n        }\n        if character.Skills.skill2 == \"poison_blade\" {\n            return \"poison_blade\"\n        }\n        if character.Skills.skill2 == \"quick_slash\" {\n            return \"quick_slash\"\n        }\n        return \"basic_attack\"\n    }\n    \n    .select_skill_on_levelup = choice(character: Character & Skills, currentLevel: number): string {\n        if currentLevel == 2 {\n            return \"backstab\"\n        }\n        if currentLevel == 3 {\n            return \"poison_blade\"\n        }\n        if currentLevel == 4 {\n            return \"quick_slash\"\n        }\n        if currentLevel == 5 {\n            return \"shadowstep\"\n        }\n        if currentLevel == 6 {\n            return \"evasion\"\n        }\n        if currentLevel >= 7 {\n            return \"assassinate\"\n        }\n        return \"backstab\"\n    }\n}\n\nentity {\n    Character {\n        name: \"Viper\"\n        class: \"Rogue\"\n        level: 1\n        experience: 0\n        experienceToLevel: 100\n    }\n    Health {\n        current: 75\n        max: 75\n    }\n    Mana {\n        current: 55\n        max: 55\n    }\n    Stats {\n        strength: 8\n        dexterity: 18\n        intelligence: 12\n        constitution: 8\n        wisdom: 10\n    }\n    Combat {\n        damage: 19\n        defense: 5\n        attackSpeed: 1.3\n        critChance: 0.2\n        critMultiplier: 2.5\n    }\n    Team {\n        id: \"player\"\n        isPlayer: true\n    }\n    Skills {\n        skill1: \"backstab\"\n        skill2: \"\"\n        skill3: \"\"\n        skill4: \"\"\n        skillPoints: 0\n    }\n    Buffs {\n        damageBonus: 0\n        defenseBonus: 0\n        hasteBonus: 0\n        shieldAmount: 0\n        regenAmount: 0\n    }\n    HeroInfo {\n        id: \"rogue2\"\n        description: \"A poison specialist who weakens enemies over time. Applies deadly toxins that continue damaging after initial strikes.\"\n        difficulty: \"Hard\"\n        role: \"Melee DPS / DoT\"\n        playstyle: \"Apply poison effects and let damage over time do the work\"\n    }\n    HeroTemplate {\n        isTemplate: true\n    }\n}\n\nentity {\n    Character {\n        name: \"Nightblade Kira\"\n        class: \"Rogue\"\n        level: 1\n        experience: 0\n        experienceToLevel: 100\n    }\n    Health {\n        current: 90\n        max: 90\n    }\n    Mana {\n        current: 50\n        max: 50\n    }\n    Stats {\n        strength: 12\n        dexterity: 16\n        intelligence: 10\n        constitution: 12\n        wisdom: 10\n    }\n    Combat {\n        damage: 21\n        defense: 7\n        attackSpeed: 1.2\n        critChance: 0.2\n        critMultiplier: 2.5\n    }\n    Team {\n        id: \"player\"\n        isPlayer: true\n    }\n    Skills {\n        skill1: \"backstab\"\n        skill2: \"\"\n        skill3: \"\"\n        skill4: \"\"\n        skillPoints: 0\n    }\n    Buffs {\n        damageBonus: 0\n        defenseBonus: 0\n        hasteBonus: 0\n        shieldAmount: 0\n        regenAmount: 0\n    }\n    HeroInfo {\n        id: \"rogue3\"\n        description: \"A versatile assassin with balanced stats. Reliable critical strikes and good survivability for a rogue.\"\n        difficulty: \"Easy\"\n        role: \"Melee DPS / Balanced\"\n        playstyle: \"Well-rounded assassin with good damage and survivability\"\n    }\n    HeroTemplate {\n        isTemplate: true\n    }\n}\n\nentity {\n    Character {\n        name: \"Ghost\"\n        class: \"Rogue\"\n        level: 1\n        experience: 0\n        experienceToLevel: 100\n    }\n    Health {\n        current: 65\n        max: 65\n    }\n    Mana {\n        current: 45\n        max: 45\n    }\n    Stats {\n        strength: 8\n        dexterity: 20\n        intelligence: 10\n        constitution: 6\n        wisdom: 8\n    }\n    Combat {\n        damage: 25\n        defense: 4\n        attackSpeed: 1.6\n        critChance: 0.3\n        critMultiplier: 2.5\n    }\n    Team {\n        id: \"player\"\n        isPlayer: true\n    }\n    Skills {\n        skill1: \"backstab\"\n        skill2: \"\"\n        skill3: \"\"\n        skill4: \"\"\n        skillPoints: 0\n    }\n    Buffs {\n        damageBonus: 0\n        defenseBonus: 0\n        hasteBonus: 0\n        shieldAmount: 0\n        regenAmount: 0\n    }\n    HeroInfo {\n        id: \"rogue4\"\n        description: \"The ultimate glass cannon rogue. Unmatched attack speed and critical chance but extremely fragile.\"\n        difficulty: \"Hard\"\n        role: \"Melee DPS / Hyper Carry\"\n        playstyle: \"Lightning-fast attacks with maximum crit - dies if touched\"\n    }\n    HeroTemplate {\n        isTemplate: true\n    }\n}\n\nentity {\n    Character {\n        name: \"Dagger Master Jin\"\n        class: \"Rogue\"\n        level: 1\n        experience: 0\n        experienceToLevel: 100\n    }\n    Health {\n        current: 85\n        max: 85\n    }\n    Mana {\n        current: 50\n        max: 50\n    }\n    Stats {\n        strength: 14\n        dexterity: 16\n        intelligence: 10\n        constitution: 10\n        wisdom: 10\n    }\n    Combat {\n        damage: 26\n        defense: 6\n        attackSpeed: 1.0\n        critChance: 0.2\n        critMultiplier: 2.5\n    }\n    Team {\n        id: \"player\"\n        isPlayer: true\n    }\n    Skills {\n        skill1: \"backstab\"\n        skill2: \"\"\n        skill3: \"\"\n        skill4: \"\"\n        skillPoints: 0\n    }\n    Buffs {\n        damageBonus: 0\n        defenseBonus: 0\n        hasteBonus: 0\n        shieldAmount: 0\n        regenAmount: 0\n    }\n    HeroInfo {\n        id: \"rogue5\"\n        description: \"A disciplined rogue who focuses on precision over speed. Higher damage per hit with controlled, tactical strikes.\"\n        difficulty: \"Medium\"\n        role: \"Melee DPS / Precision\"\n        playstyle: \"Slower but harder-hitting strikes with good positioning\"\n    }\n    HeroTemplate {\n        isTemplate: true\n    }\n}\n\n// -----------------------------------------------------------------------------\n// CLERICS - Healers and support characters\n// -----------------------------------------------------------------------------\n\nentity {\n    Character {\n        name: \"Brother Aldric\"\n        class: \"Cleric\"\n        level: 1\n        experience: 0\n        experienceToLevel: 100\n    }\n    Health {\n        current: 90\n        max: 90\n    }\n    Mana {\n        current: 80\n        max: 80\n    }\n    Stats {\n        strength: 10\n        dexterity: 8\n        intelligence: 12\n        constitution: 12\n        wisdom: 18\n    }\n    Combat {\n        damage: 12\n        defense: 8\n        attackSpeed: 0.7\n        critChance: 0.05\n        critMultiplier: 1.5\n    }\n    Team {\n        id: \"player\"\n        isPlayer: true\n    }\n    Skills {\n        skill1: \"heal\"\n        skill2: \"\"\n        skill3: \"\"\n        skill4: \"\"\n        skillPoints: 0\n    }\n    Buffs {\n        damageBonus: 0\n        defenseBonus: 0\n        hasteBonus: 0\n        shieldAmount: 0\n        regenAmount: 0\n    }\n    HeroInfo {\n        id: \"cleric\"\n        description: \"A divine healer who supports allies with healing and protective magic. Keeps the party alive through the toughest battles.\"\n        difficulty: \"Easy\"\n        role: \"Healer / Support\"\n        playstyle: \"Keep allies alive with healing while contributing moderate damage\"\n    }\n    HeroTemplate {\n        isTemplate: true\n    }\n    \n    // Bound choice functions for Cleric behavior\n    .select_attack_target = choice(character: Character, enemies: list): id {\n        let target = enemies[0]\n        let lowestThreat = 999999\n        for enemy in enemies {\n            let threat = enemy.Combat.damage * (enemy.Health.current / enemy.Health.max)\n            if threat < lowestThreat {\n                target = enemy\n                lowestThreat = threat\n            }\n        }\n        return target.id\n    }\n    \n    .select_combat_skill = choice(character: Character & Skills & Health & Mana & Combat, allies: list, enemies: list): string {\n        let hp_pct = character.Health.current / character.Health.max\n        let mana_pct = character.Mana.current / character.Mana.max\n        for ally in allies {\n            if ally.Health.current <= 0 {\n                if character.Mana.current >= 100 && character.Skills.skill4 == \"resurrection\" {\n                    return \"resurrection\"\n                }\n            }\n        }\n        if hp_pct < 0.25 && character.Mana.current >= 15 {\n            if character.Skills.skill1 == \"heal\" {\n                return \"heal\"\n            }\n        }\n        let injuredCount = 0\n        for ally in allies {\n            let ally_hp_pct = ally.Health.current / ally.Health.max\n            if ally_hp_pct < 0.6 {\n                injuredCount = injuredCount + 1\n            }\n        }\n        if injuredCount >= 2 && character.Mana.current >= 35 {\n            if character.Skills.skill3 == \"group_heal\" {\n                return \"group_heal\"\n            }\n        }\n        for ally in allies {\n            let ally_hp_pct = ally.Health.current / ally.Health.max\n            if ally_hp_pct < 0.3 && character.Mana.current >= 15 {\n                if character.Skills.skill1 == \"heal\" {\n                    return \"heal\"\n                }\n            }\n        }\n        for ally in allies {\n            if ally.Character.class == \"Warrior\" {\n                let ally_hp_pct = ally.Health.current / ally.Health.max\n                if ally_hp_pct < 0.5 && character.Mana.current >= 25 {\n                    if character.Skills.skill3 == \"holy_shield\" {\n                        return \"holy_shield\"\n                    }\n                }\n            }\n        }\n        if injuredCount == 0 {\n            if enemies.count >= 2 && character.Mana.current >= 80 {\n                if character.Skills.skill4 == \"divine_storm\" {\n                    return \"divine_storm\"\n                }\n            }\n            if character.Mana.current >= 12 && character.Skills.skill2 == \"bless\" {\n                return \"bless\"\n            }\n            if character.Mana.current >= 10 && character.Skills.skill2 == \"smite\" {\n                return \"smite\"\n            }\n        }\n        if character.Mana.current >= 30 && character.Skills.skill3 == \"divine_light\" {\n            return \"divine_light\"\n        }\n        return \"basic_attack\"\n    }\n    \n    .select_skill_on_levelup = choice(character: Character & Skills, currentLevel: number): string {\n        if currentLevel == 2 {\n            return \"heal\"\n        }\n        if currentLevel == 3 {\n            return \"bless\"\n        }\n        if currentLevel == 4 {\n            return \"smite\"\n        }\n        if currentLevel == 5 {\n            return \"group_heal\"\n        }\n        if currentLevel == 6 {\n            return \"holy_shield\"\n        }\n        if currentLevel >= 7 {\n            return \"resurrection\"\n        }\n        return \"heal\"\n    }\n}\n\nentity {\n    Character {\n        name: \"Sister Lumina\"\n        class: \"Cleric\"\n        level: 1\n        experience: 0\n        experienceToLevel: 100\n    }\n    Health {\n        current: 85\n        max: 85\n    }\n    Mana {\n        current: 100\n        max: 100\n    }\n    Stats {\n        strength: 8\n        dexterity: 8\n        intelligence: 14\n        constitution: 12\n        wisdom: 20\n    }\n    Combat {\n        damage: 10\n        defense: 7\n        attackSpeed: 0.6\n        critChance: 0.05\n        critMultiplier: 1.5\n    }\n    Team {\n        id: \"player\"\n        isPlayer: true\n    }\n    Skills {\n        skill1: \"heal\"\n        skill2: \"\"\n        skill3: \"\"\n        skill4: \"\"\n        skillPoints: 0\n    }\n    Buffs {\n        damageBonus: 0\n        defenseBonus: 0\n        hasteBonus: 0\n        shieldAmount: 0\n        regenAmount: 0\n    }\n    HeroInfo {\n        id: \"cleric2\"\n        description: \"A devoted healer who maximizes healing output. Best support in the game but minimal combat capability.\"\n        difficulty: \"Easy\"\n        role: \"Healer / Pure Support\"\n        playstyle: \"Maximum healing power - keep allies alive at all costs\"\n    }\n    HeroTemplate {\n        isTemplate: true\n    }\n}\n\nentity {\n    Character {\n        name: \"Battle Priest Marcus\"\n        class: \"Cleric\"\n        level: 1\n        experience: 0\n        experienceToLevel: 100\n    }\n    Health {\n        current: 100\n        max: 100\n    }\n    Mana {\n        current: 70\n        max: 70\n    }\n    Stats {\n        strength: 14\n        dexterity: 10\n        intelligence: 12\n        constitution: 12\n        wisdom: 14\n    }\n    Combat {\n        damage: 18\n        defense: 8\n        attackSpeed: 0.8\n        critChance: 0.1\n        critMultiplier: 1.5\n    }\n    Team {\n        id: \"player\"\n        isPlayer: true\n    }\n    Skills {\n        skill1: \"heal\"\n        skill2: \"\"\n        skill3: \"\"\n        skill4: \"\"\n        skillPoints: 0\n    }\n    Buffs {\n        damageBonus: 0\n        defenseBonus: 0\n        hasteBonus: 0\n        shieldAmount: 0\n        regenAmount: 0\n    }\n    HeroInfo {\n        id: \"cleric3\"\n        description: \"A militant cleric who deals holy damage to enemies. Combines decent damage with moderate healing capabilities.\"\n        difficulty: \"Medium\"\n        role: \"Hybrid DPS / Support\"\n        playstyle: \"Balance between dealing holy damage and supporting allies\"\n    }\n    HeroTemplate {\n        isTemplate: true\n    }\n}\n\nentity {\n    Character {\n        name: \"Shieldbearer Thora\"\n        class: \"Cleric\"\n        level: 1\n        experience: 0\n        experienceToLevel: 100\n    }\n    Health {\n        current: 110\n        max: 110\n    }\n    Mana {\n        current: 75\n        max: 75\n    }\n    Stats {\n        strength: 12\n        dexterity: 8\n        intelligence: 10\n        constitution: 16\n        wisdom: 16\n    }\n    Combat {\n        damage: 11\n        defense: 10\n        attackSpeed: 0.7\n        critChance: 0.05\n        critMultiplier: 1.5\n    }\n    Team {\n        id: \"player\"\n        isPlayer: true\n    }\n    Skills {\n        skill1: \"heal\"\n        skill2: \"\"\n        skill3: \"\"\n        skill4: \"\"\n        skillPoints: 0\n    }\n    Buffs {\n        damageBonus: 0\n        defenseBonus: 0\n        hasteBonus: 0\n        shieldAmount: 0\n        regenAmount: 0\n    }\n    HeroInfo {\n        id: \"cleric4\"\n        description: \"A defensive cleric who protects allies with shields and barriers. Focuses on damage prevention over healing.\"\n        difficulty: \"Medium\"\n        role: \"Tank / Support\"\n        playstyle: \"Prevent damage with shields while providing emergency healing\"\n    }\n    HeroTemplate {\n        isTemplate: true\n    }\n}\n\nentity {\n    Character {\n        name: \"Prophet Celestia\"\n        class: \"Cleric\"\n        level: 1\n        experience: 0\n        experienceToLevel: 100\n    }\n    Health {\n        current: 88\n        max: 88\n    }\n    Mana {\n        current: 95\n        max: 95\n    }\n    Stats {\n        strength: 8\n        dexterity: 10\n        intelligence: 16\n        constitution: 10\n        wisdom: 18\n    }\n    Combat {\n        damage: 12\n        defense: 7\n        attackSpeed: 0.7\n        critChance: 0.05\n        critMultiplier: 1.5\n    }\n    Team {\n        id: \"player\"\n        isPlayer: true\n    }\n    Skills {\n        skill1: \"heal\"\n        skill2: \"\"\n        skill3: \"\"\n        skill4: \"\"\n        skillPoints: 0\n    }\n    Buffs {\n        damageBonus: 0\n        defenseBonus: 0\n        hasteBonus: 0\n        shieldAmount: 0\n        regenAmount: 0\n    }\n    HeroInfo {\n        id: \"cleric5\"\n        description: \"A mystic healer with powerful buffs and enhanced mana pool. Provides utility beyond just healing.\"\n        difficulty: \"Hard\"\n        role: \"Support / Buffer\"\n        playstyle: \"Enhance allies with buffs while maintaining healing support\"\n    }\n    HeroTemplate {\n        isTemplate: true\n    }\n}\n\n// -----------------------------------------------------------------------------\n// RANGERS - Ranged physical damage dealers\n// -----------------------------------------------------------------------------\n\nentity {\n    Character {\n        name: \"Aria Swiftarrow\"\n        class: \"Ranger\"\n        level: 1\n        experience: 0\n        experienceToLevel: 100\n    }\n    Health {\n        current: 85\n        max: 85\n    }\n    Mana {\n        current: 60\n        max: 60\n    }\n    Stats {\n        strength: 12\n        dexterity: 16\n        intelligence: 10\n        constitution: 10\n        wisdom: 12\n    }\n    Combat {\n        damage: 20\n        defense: 5\n        attackSpeed: 1.2\n        critChance: 0.15\n        critMultiplier: 2.0\n    }\n    Team {\n        id: \"player\"\n        isPlayer: true\n    }\n    Skills {\n        skill1: \"aimed_shot\"\n        skill2: \"\"\n        skill3: \"\"\n        skill4: \"\"\n        skillPoints: 0\n    }\n    Buffs {\n        damageBonus: 0\n        defenseBonus: 0\n        hasteBonus: 0\n        shieldAmount: 0\n        regenAmount: 0\n    }\n    HeroInfo {\n        id: \"ranger\"\n        description: \"An expert marksman with deadly precision. Excels at dealing consistent damage from range with high critical strike chance.\"\n        difficulty: \"Medium\"\n        role: \"Ranged DPS / Single Target\"\n        playstyle: \"Maintain distance and deliver precise, high-damage attacks from range\"\n    }\n    HeroTemplate {\n        isTemplate: true\n    }\n}\n\nentity {\n    Character {\n        name: \"Hunter Thornwood\"\n        class: \"Ranger\"\n        level: 1\n        experience: 0\n        experienceToLevel: 100\n    }\n    Health {\n        current: 90\n        max: 90\n    }\n    Mana {\n        current: 55\n        max: 55\n    }\n    Stats {\n        strength: 14\n        dexterity: 16\n        intelligence: 8\n        constitution: 12\n        wisdom: 10\n    }\n    Combat {\n        damage: 22\n        defense: 6\n        attackSpeed: 1.1\n        critChance: 0.15\n        critMultiplier: 2.0\n    }\n    Team {\n        id: \"player\"\n        isPlayer: true\n    }\n    Skills {\n        skill1: \"aimed_shot\"\n        skill2: \"\"\n        skill3: \"\"\n        skill4: \"\"\n        skillPoints: 0\n    }\n    Buffs {\n        damageBonus: 0\n        defenseBonus: 0\n        hasteBonus: 0\n        shieldAmount: 0\n        regenAmount: 0\n    }\n    HeroInfo {\n        id: \"ranger2\"\n        description: \"A wilderness ranger who excels at tracking and taking down single targets. Reliable sustained ranged damage.\"\n        difficulty: \"Easy\"\n        role: \"Ranged DPS / Sustained\"\n        playstyle: \"Consistent ranged damage with good survivability\"\n    }\n    HeroTemplate {\n        isTemplate: true\n    }\n}\n\nentity {\n    Character {\n        name: \"Windrunner Lyra\"\n        class: \"Ranger\"\n        level: 1\n        experience: 0\n        experienceToLevel: 100\n    }\n    Health {\n        current: 80\n        max: 80\n    }\n    Mana {\n        current: 60\n        max: 60\n    }\n    Stats {\n        strength: 10\n        dexterity: 18\n        intelligence: 10\n        constitution: 10\n        wisdom: 12\n    }\n    Combat {\n        damage: 18\n        defense: 5\n        attackSpeed: 1.5\n        critChance: 0.15\n        critMultiplier: 2.0\n    }\n    Team {\n        id: \"player\"\n        isPlayer: true\n    }\n    Skills {\n        skill1: \"aimed_shot\"\n        skill2: \"\"\n        skill3: \"\"\n        skill4: \"\"\n        skillPoints: 0\n    }\n    Buffs {\n        damageBonus: 0\n        defenseBonus: 0\n        hasteBonus: 0\n        shieldAmount: 0\n        regenAmount: 0\n    }\n    HeroInfo {\n        id: \"ranger3\"\n        description: \"An agile ranger with the fastest attack speed. Lower damage per shot but overwhelming volume of arrows.\"\n        difficulty: \"Medium\"\n        role: \"Ranged DPS / Rapid Fire\"\n        playstyle: \"Rapid arrow volleys - death by a thousand cuts\"\n    }\n    HeroTemplate {\n        isTemplate: true\n    }\n}\n\nentity {\n    Character {\n        name: \"Sniper Hawkeye\"\n        class: \"Ranger\"\n        level: 1\n        experience: 0\n        experienceToLevel: 100\n    }\n    Health {\n        current: 82\n        max: 82\n    }\n    Mana {\n        current: 65\n        max: 65\n    }\n    Stats {\n        strength: 14\n        dexterity: 16\n        intelligence: 12\n        constitution: 10\n        wisdom: 14\n    }\n    Combat {\n        damage: 28\n        defense: 5\n        attackSpeed: 0.8\n        critChance: 0.2\n        critMultiplier: 2.5\n    }\n    Team {\n        id: \"player\"\n        isPlayer: true\n    }\n    Skills {\n        skill1: \"aimed_shot\"\n        skill2: \"\"\n        skill3: \"\"\n        skill4: \"\"\n        skillPoints: 0\n    }\n    Buffs {\n        damageBonus: 0\n        defenseBonus: 0\n        hasteBonus: 0\n        shieldAmount: 0\n        regenAmount: 0\n    }\n    HeroInfo {\n        id: \"ranger4\"\n        description: \"A patient marksman who waits for the perfect shot. Slow but extremely powerful attacks with high crit damage.\"\n        difficulty: \"Medium\"\n        role: \"Ranged DPS / Burst\"\n        playstyle: \"Devastating single shots - each arrow is a kill shot\"\n    }\n    HeroTemplate {\n        isTemplate: true\n    }\n}\n\nentity {\n    Character {\n        name: \"Beastmaster Renn\"\n        class: \"Ranger\"\n        level: 1\n        experience: 0\n        experienceToLevel: 100\n    }\n    Health {\n        current: 92\n        max: 92\n    }\n    Mana {\n        current: 70\n        max: 70\n    }\n    Stats {\n        strength: 12\n        dexterity: 14\n        intelligence: 12\n        constitution: 12\n        wisdom: 14\n    }\n    Combat {\n        damage: 19\n        defense: 6\n        attackSpeed: 1.0\n        critChance: 0.15\n        critMultiplier: 2.0\n    }\n    Team {\n        id: \"player\"\n        isPlayer: true\n    }\n    Skills {\n        skill1: \"aimed_shot\"\n        skill2: \"\"\n        skill3: \"\"\n        skill4: \"\"\n        skillPoints: 0\n    }\n    Buffs {\n        damageBonus: 0\n        defenseBonus: 0\n        hasteBonus: 0\n        shieldAmount: 0\n        regenAmount: 0\n    }\n    HeroInfo {\n        id: \"ranger5\"\n        description: \"A ranger who commands nature's fury. Balanced stats with good survivability and utility.\"\n        difficulty: \"Easy\"\n        role: \"Ranged DPS / Utility\"\n        playstyle: \"Well-rounded ranger with pet support and good versatility\"\n    }\n    HeroTemplate {\n        isTemplate: true\n    }\n}\n\n// -----------------------------------------------------------------------------\n// PALADINS - Holy warriors with tank and support abilities\n// -----------------------------------------------------------------------------\n\nentity {\n    Character {\n        name: \"Dame Lightbringer\"\n        class: \"Paladin\"\n        level: 1\n        experience: 0\n        experienceToLevel: 100\n    }\n    Health {\n        current: 110\n        max: 110\n    }\n    Mana {\n        current: 70\n        max: 70\n    }\n    Stats {\n        strength: 14\n        dexterity: 10\n        intelligence: 10\n        constitution: 14\n        wisdom: 12\n    }\n    Combat {\n        damage: 16\n        defense: 9\n        attackSpeed: 0.9\n        critChance: 0.1\n        critMultiplier: 1.5\n    }\n    Team {\n        id: \"player\"\n        isPlayer: true\n    }\n    Skills {\n        skill1: \"divine_strike\"\n        skill2: \"\"\n        skill3: \"\"\n        skill4: \"\"\n        skillPoints: 0\n    }\n    Buffs {\n        damageBonus: 0\n        defenseBonus: 0\n        hasteBonus: 0\n        shieldAmount: 0\n        regenAmount: 0\n    }\n    HeroInfo {\n        id: \"paladin\"\n        description: \"A holy warrior who balances offense and defense. Can heal allies while dealing respectable damage to enemies.\"\n        difficulty: \"Easy\"\n        role: \"Hybrid Tank / Support\"\n        playstyle: \"Balance between dealing damage, tanking, and supporting allies\"\n    }\n    HeroTemplate {\n        isTemplate: true\n    }\n}\n\nentity {\n    Character {\n        name: \"Justicar Voran\"\n        class: \"Paladin\"\n        level: 1\n        experience: 0\n        experienceToLevel: 100\n    }\n    Health {\n        current: 115\n        max: 115\n    }\n    Mana {\n        current: 65\n        max: 65\n    }\n    Stats {\n        strength: 16\n        dexterity: 10\n        intelligence: 8\n        constitution: 14\n        wisdom: 12\n    }\n    Combat {\n        damage: 20\n        defense: 9\n        attackSpeed: 0.9\n        critChance: 0.1\n        critMultiplier: 1.5\n    }\n    Team {\n        id: \"player\"\n        isPlayer: true\n    }\n    Skills {\n        skill1: \"divine_strike\"\n        skill2: \"\"\n        skill3: \"\"\n        skill4: \"\"\n        skillPoints: 0\n    }\n    Buffs {\n        damageBonus: 0\n        defenseBonus: 0\n        hasteBonus: 0\n        shieldAmount: 0\n        regenAmount: 0\n    }\n    HeroInfo {\n        id: \"paladin2\"\n        description: \"A righteous paladin focused on dealing holy damage to evil. Strong offense with divine protection.\"\n        difficulty: \"Easy\"\n        role: \"Melee DPS / Tank\"\n        playstyle: \"Holy warrior dealing bonus damage to undead and demons\"\n    }\n    HeroTemplate {\n        isTemplate: true\n    }\n}\n\nentity {\n    Character {\n        name: \"Guardian Solas\"\n        class: \"Paladin\"\n        level: 1\n        experience: 0\n        experienceToLevel: 100\n    }\n    Health {\n        current: 125\n        max: 125\n    }\n    Mana {\n        current: 70\n        max: 70\n    }\n    Stats {\n        strength: 12\n        dexterity: 8\n        intelligence: 10\n        constitution: 16\n        wisdom: 14\n    }\n    Combat {\n        damage: 14\n        defense: 11\n        attackSpeed: 0.8\n        critChance: 0.1\n        critMultiplier: 1.5\n    }\n    Team {\n        id: \"player\"\n        isPlayer: true\n    }\n    Skills {\n        skill1: \"divine_strike\"\n        skill2: \"\"\n        skill3: \"\"\n        skill4: \"\"\n        skillPoints: 0\n    }\n    Buffs {\n        damageBonus: 0\n        defenseBonus: 0\n        hasteBonus: 0\n        shieldAmount: 0\n        regenAmount: 0\n    }\n    HeroInfo {\n        id: \"paladin3\"\n        description: \"A protective paladin who shields allies from harm. Highest defense among paladins with area protection.\"\n        difficulty: \"Easy\"\n        role: \"Tank / Protector\"\n        playstyle: \"Maximum protection - intercept attacks meant for allies\"\n    }\n    HeroTemplate {\n        isTemplate: true\n    }\n}\n\nentity {\n    Character {\n        name: \"Zealot Pyra\"\n        class: \"Paladin\"\n        level: 1\n        experience: 0\n        experienceToLevel: 100\n    }\n    Health {\n        current: 105\n        max: 105\n    }\n    Mana {\n        current: 60\n        max: 60\n    }\n    Stats {\n        strength: 16\n        dexterity: 12\n        intelligence: 8\n        constitution: 12\n        wisdom: 12\n    }\n    Combat {\n        damage: 22\n        defense: 7\n        attackSpeed: 1.0\n        critChance: 0.15\n        critMultiplier: 1.5\n    }\n    Team {\n        id: \"player\"\n        isPlayer: true\n    }\n    Skills {\n        skill1: \"divine_strike\"\n        skill2: \"\"\n        skill3: \"\"\n        skill4: \"\"\n        skillPoints: 0\n    }\n    Buffs {\n        damageBonus: 0\n        defenseBonus: 0\n        hasteBonus: 0\n        shieldAmount: 0\n        regenAmount: 0\n    }\n    HeroInfo {\n        id: \"paladin4\"\n        description: \"A fervent holy warrior who sacrifices defense for righteous fury. High damage output with moderate tankiness.\"\n        difficulty: \"Medium\"\n        role: \"Melee DPS / Bruiser\"\n        playstyle: \"Aggressive holy warrior - offense is the best defense\"\n    }\n    HeroTemplate {\n        isTemplate: true\n    }\n}\n\nentity {\n    Character {\n        name: \"Templar Aegis\"\n        class: \"Paladin\"\n        level: 1\n        experience: 0\n        experienceToLevel: 100\n    }\n    Health {\n        current: 112\n        max: 112\n    }\n    Mana {\n        current: 75\n        max: 75\n    }\n    Stats {\n        strength: 14\n        dexterity: 12\n        intelligence: 12\n        constitution: 14\n        wisdom: 14\n    }\n    Combat {\n        damage: 17\n        defense: 9\n        attackSpeed: 0.9\n        critChance: 0.1\n        critMultiplier: 1.5\n    }\n    Team {\n        id: \"player\"\n        isPlayer: true\n    }\n    Skills {\n        skill1: \"divine_strike\"\n        skill2: \"\"\n        skill3: \"\"\n        skill4: \"\"\n        skillPoints: 0\n    }\n    Buffs {\n        damageBonus: 0\n        defenseBonus: 0\n        hasteBonus: 0\n        shieldAmount: 0\n        regenAmount: 0\n    }\n    HeroInfo {\n        id: \"paladin5\"\n        description: \"A veteran templar with decades of experience. Perfectly balanced stats make them effective in any situation.\"\n        difficulty: \"Easy\"\n        role: \"Hybrid / Versatile\"\n        playstyle: \"Jack of all trades - adapts to any party composition\"\n    }\n    HeroTemplate {\n        isTemplate: true\n    }\n}\n",
        "language": "bdl"
      },
      {
        "path": "../../game/bdl/enemies.bdl",
        "content": "// =============================================================================\n// BLINK IDLE RPG - Enemy Definitions\n// =============================================================================\n// This file contains all enemy templates for the game.\n// Enemies are spawned dynamically based on game progression.\n// =============================================================================\n\n\n\n// -----------------------------------------------------------------------------\n// TIER 1 - Early Game Enemies\n// -----------------------------------------------------------------------------\n\ngoblin_scout = new entity {\n    Character {\n        name: \"Goblin Scout\"\n        class: \"Monster\"\n        level: 1\n        experience: 0\n        experienceToLevel: 999\n    }\n    Health {\n        current: 60\n        max: 60\n    }\n    Mana {\n        current: 0\n        max: 0\n    }\n    Stats {\n        strength: 8\n        dexterity: 12\n        intelligence: 4\n        constitution: 8\n        wisdom: 4\n    }\n    Combat {\n        damage: 8\n        defense: 2\n        attackSpeed: 1.0\n        critChance: 0.05\n        critMultiplier: 1.5\n    }\n    Target {\n        entity: null\n    }\n    Team {\n        id: \"enemy\"\n        isPlayer: false\n    }\n    Enemy {\n        tier: 1\n        isBoss: false\n        expReward: 25\n        wave: 1\n    }\n    EnemyTemplate {\n        isTemplate: true\n    }\n    Buffs {\n        damageBonus: 0\n        defenseBonus: 0\n        hasteBonus: 0\n        shieldAmount: 0\n        regenAmount: 0\n    }\n}\n\n// -----------------------------------------------------------------------------\n// TIER 2 - Early-Mid Game Enemies\n// -----------------------------------------------------------------------------\n\norc_raider = new entity {\n    Character {\n        name: \"Orc Raider\"\n        class: \"Monster\"\n        level: 2\n        experience: 0\n        experienceToLevel: 999\n    }\n    Health {\n        current: 90\n        max: 90\n    }\n    Mana {\n        current: 0\n        max: 0\n    }\n    Stats {\n        strength: 12\n        dexterity: 8\n        intelligence: 4\n        constitution: 12\n        wisdom: 4\n    }\n    Combat {\n        damage: 12\n        defense: 4\n        attackSpeed: 0.8\n        critChance: 0.05\n        critMultiplier: 1.5\n    }\n    Target {\n        entity: null\n    }\n    Team {\n        id: \"enemy\"\n        isPlayer: false\n    }\n    Enemy {\n        tier: 2\n        isBoss: false\n        expReward: 35\n        wave: 2\n    }\n    EnemyTemplate {\n        isTemplate: true\n    }\n    Buffs {\n        damageBonus: 0\n        defenseBonus: 0\n        hasteBonus: 0\n        shieldAmount: 0\n        regenAmount: 0\n    }\n}\n\ndark_wolf = new entity {\n    Character {\n        name: \"Dark Wolf\"\n        class: \"Monster\"\n        level: 2\n        experience: 0\n        experienceToLevel: 999\n    }\n    Health {\n        current: 75\n        max: 75\n    }\n    Mana {\n        current: 0\n        max: 0\n    }\n    Stats {\n        strength: 10\n        dexterity: 16\n        intelligence: 4\n        constitution: 8\n        wisdom: 6\n    }\n    Combat {\n        damage: 14\n        defense: 3\n        attackSpeed: 1.2\n        critChance: 0.1\n        critMultiplier: 1.5\n    }\n    Target {\n        entity: null\n    }\n    Team {\n        id: \"enemy\"\n        isPlayer: false\n    }\n    Enemy {\n        tier: 2\n        isBoss: false\n        expReward: 40\n        wave: 2\n    }\n    EnemyTemplate {\n        isTemplate: true\n    }\n    Buffs {\n        damageBonus: 0\n        defenseBonus: 0\n        hasteBonus: 0\n        shieldAmount: 0\n        regenAmount: 0\n    }\n}\n\n// -----------------------------------------------------------------------------\n// TIER 3 - Mid Game Enemies\n// -----------------------------------------------------------------------------\n\nskeleton_warrior = new entity {\n    Character {\n        name: \"Skeleton Warrior\"\n        class: \"Monster\"\n        level: 3\n        experience: 0\n        experienceToLevel: 999\n    }\n    Health {\n        current: 110\n        max: 110\n    }\n    Mana {\n        current: 0\n        max: 0\n    }\n    Stats {\n        strength: 14\n        dexterity: 10\n        intelligence: 4\n        constitution: 12\n        wisdom: 4\n    }\n    Combat {\n        damage: 16\n        defense: 6\n        attackSpeed: 0.7\n        critChance: 0.1\n        critMultiplier: 1.5\n    }\n    Target {\n        entity: null\n    }\n    Team {\n        id: \"enemy\"\n        isPlayer: false\n    }\n    Enemy {\n        tier: 3\n        isBoss: false\n        expReward: 50\n        wave: 3\n    }\n    EnemyTemplate {\n        isTemplate: true\n    }\n    Buffs {\n        damageBonus: 0\n        defenseBonus: 0\n        hasteBonus: 0\n        shieldAmount: 0\n        regenAmount: 0\n    }\n}\n\ndark_mage = new entity {\n    Character {\n        name: \"Dark Mage\"\n        class: \"Monster\"\n        level: 5\n        experience: 0\n        experienceToLevel: 999\n    }\n    Health {\n        current: 80\n        max: 80\n    }\n    Mana {\n        current: 100\n        max: 100\n    }\n    Stats {\n        strength: 6\n        dexterity: 10\n        intelligence: 16\n        constitution: 8\n        wisdom: 12\n    }\n    Combat {\n        damage: 22\n        defense: 4\n        attackSpeed: 0.5\n        critChance: 0.15\n        critMultiplier: 2.0\n    }\n    Target {\n        entity: null\n    }\n    Team {\n        id: \"enemy\"\n        isPlayer: false\n    }\n    Enemy {\n        tier: 3\n        isBoss: false\n        expReward: 75\n        wave: 3\n    }\n    EnemyTemplate {\n        isTemplate: true\n    }\n    Buffs {\n        damageBonus: 0\n        defenseBonus: 0\n        hasteBonus: 0\n        shieldAmount: 0\n        regenAmount: 0\n    }\n}\n\n// -----------------------------------------------------------------------------\n// TIER 4 - Late Game Enemies\n// -----------------------------------------------------------------------------\n\ntroll_berserker = new entity {\n    Character {\n        name: \"Troll Berserker\"\n        class: \"Monster\"\n        level: 7\n        experience: 0\n        experienceToLevel: 999\n    }\n    Health {\n        current: 180\n        max: 180\n    }\n    Mana {\n        current: 0\n        max: 0\n    }\n    Stats {\n        strength: 18\n        dexterity: 8\n        intelligence: 4\n        constitution: 18\n        wisdom: 4\n    }\n    Combat {\n        damage: 22\n        defense: 8\n        attackSpeed: 0.6\n        critChance: 0.15\n        critMultiplier: 1.5\n    }\n    Target {\n        entity: null\n    }\n    Team {\n        id: \"enemy\"\n        isPlayer: false\n    }\n    Enemy {\n        tier: 4\n        isBoss: false\n        expReward: 80\n        wave: 4\n    }\n    EnemyTemplate {\n        isTemplate: true\n    }\n    Buffs {\n        damageBonus: 0\n        defenseBonus: 0\n        hasteBonus: 0\n        shieldAmount: 0\n        regenAmount: 0\n    }\n}\n\n// -----------------------------------------------------------------------------\n// TIER 5 - End Game Enemies\n// -----------------------------------------------------------------------------\n\ndemon_knight = new entity {\n    Character {\n        name: \"Demon Knight\"\n        class: \"Monster\"\n        level: 8\n        experience: 0\n        experienceToLevel: 999\n    }\n    Health {\n        current: 250\n        max: 250\n    }\n    Mana {\n        current: 50\n        max: 50\n    }\n    Stats {\n        strength: 18\n        dexterity: 12\n        intelligence: 10\n        constitution: 16\n        wisdom: 8\n    }\n    Combat {\n        damage: 30\n        defense: 10\n        attackSpeed: 0.7\n        critChance: 0.15\n        critMultiplier: 2.0\n    }\n    Target {\n        entity: null\n    }\n    Team {\n        id: \"enemy\"\n        isPlayer: false\n    }\n    Enemy {\n        tier: 5\n        isBoss: false\n        expReward: 150\n        wave: 5\n    }\n    EnemyTemplate {\n        isTemplate: true\n    }\n    Buffs {\n        damageBonus: 0\n        defenseBonus: 0\n        hasteBonus: 0\n        shieldAmount: 0\n        regenAmount: 0\n    }\n}\n\n// -----------------------------------------------------------------------------\n// TIER 6 - BOSS ENEMIES\n// -----------------------------------------------------------------------------\n\nancient_dragon = new entity {\n    Character {\n        name: \"Ancient Dragon\"\n        class: \"Boss\"\n        level: 10\n        experience: 0\n        experienceToLevel: 999\n    }\n    Health {\n        current: 400\n        max: 400\n    }\n    Mana {\n        current: 150\n        max: 150\n    }\n    Stats {\n        strength: 22\n        dexterity: 14\n        intelligence: 16\n        constitution: 22\n        wisdom: 14\n    }\n    Combat {\n        damage: 40\n        defense: 12\n        attackSpeed: 0.8\n        critChance: 0.2\n        critMultiplier: 2.0\n    }\n    Target {\n        entity: null\n    }\n    Team {\n        id: \"enemy\"\n        isPlayer: false\n    }\n    Enemy {\n        tier: 6\n        isBoss: true\n        expReward: 300\n        wave: 6\n    }\n    EnemyTemplate {\n        isTemplate: true\n    }\n    Buffs {\n        damageBonus: 0\n        defenseBonus: 0\n        hasteBonus: 0\n        shieldAmount: 0\n        regenAmount: 0\n    }\n}\n\ndragon_lord_vexar = new entity {\n    Character {\n        name: \"Dragon Lord Vexar\"\n        class: \"Boss\"\n        level: 10\n        experience: 0\n        experienceToLevel: 999\n    }\n    Health {\n        current: 500\n        max: 500\n    }\n    Mana {\n        current: 200\n        max: 200\n    }\n    Stats {\n        strength: 25\n        dexterity: 15\n        intelligence: 20\n        constitution: 25\n        wisdom: 15\n    }\n    Combat {\n        damage: 40\n        defense: 15\n        attackSpeed: 0.8\n        critChance: 0.2\n        critMultiplier: 2.5\n    }\n    Target {\n        entity: null\n    }\n    Team {\n        id: \"enemy\"\n        isPlayer: false\n    }\n    Enemy {\n        tier: 6\n        isBoss: true\n        expReward: 500\n        wave: 6\n        name: \"Lord Vexar\"\n    }\n    EnemyTemplate {\n        isTemplate: true\n    }\n    FinalBoss {\n        isFinalBoss: true\n    }\n    Buffs {\n        damageBonus: 0\n        defenseBonus: 0\n        hasteBonus: 0\n        shieldAmount: 0\n        regenAmount: 0\n    }\n}\n",
        "language": "bdl"
      },
      {
        "path": "../../game/bdl/game-config.bdl",
        "content": "// =============================================================================\n// BLINK IDLE RPG - Game Configuration\n// =============================================================================\n// This file contains game configuration entities:\n// - Game state tracking\n// - Run statistics\n// - Flee/retreat configuration\n// =============================================================================\n\n// -----------------------------------------------------------------------------\n// GAME STATE ENTITY\n// Tracks overall game progress\n// Combined with SpawnConfig since the BRL rules access both on the same entity\n// -----------------------------------------------------------------------------\n\ngame_state = new entity {\n    GameState {\n        currentWave: 1\n        enemiesDefeated: 0\n        playerDeaths: 0\n        bossDefeated: false\n        gameOver: false\n        victory: false\n        retargetingActive: false\n        currentTier: 1\n        waveInTier: 1\n        bossSpawned: false\n    }\n    SpawnConfig {\n        bossEveryKills: 100\n        tierProgressionKills: 50\n        maxTier: 6\n        wavesPerTier: 300\n        healthScaleRate: 200\n        damageScaleRate: 300\n        initialEnemyCount: 5\n    }\n}\n\n// -----------------------------------------------------------------------------\n// RUN STATISTICS ENTITY\n// Tracks the current run for leaderboard\n// -----------------------------------------------------------------------------\n\nrun_stats = new entity {\n    RunStats {\n        simulationTime: 0.0\n        retreatCount: 0\n        retreatPenalty: 0.0\n        deathPenalty: 0.0\n        totalTime: 0.0\n        canFlee: true\n        lastFleeTime: -999.0\n    }\n}\n\n// -----------------------------------------------------------------------------\n// FLEE CONFIGURATION ENTITY\n// Defines penalties and cooldowns for the flee mechanic\n// -----------------------------------------------------------------------------\n\nflee_config = new entity {\n    FleeConfig {\n        retreatTimePenalty: 10.0\n        deathTimePenaltyMultiplier: 5.0\n        fleeCooldown: 5.0\n    }\n}\n\n// -----------------------------------------------------------------------------\n// ENEMY TEMPLATE COMPENDIUM\n// References to all enemy templates for spawning\n// -----------------------------------------------------------------------------\n\nenemy_compendium = new entity {\n    EnemyCompendium {\n        entries: []\n    }\n}\n",
        "language": "bdl"
      }
    ]
  }
}